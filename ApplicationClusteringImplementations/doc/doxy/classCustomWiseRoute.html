<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>ApplicationClusteringImplementations: CustomWiseRoute Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ApplicationClusteringImplementations
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classCustomWiseRoute.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-types">Protected Types</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classCustomWiseRoute-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">CustomWiseRoute Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;CustomWiseRoute.h&gt;</code></p>
<div class="dynheader">
Inheritance diagram for CustomWiseRoute:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classCustomWiseRoute.png" usemap="#CustomWiseRoute_map" alt=""/>
  <map id="CustomWiseRoute_map" name="CustomWiseRoute_map">
<area href="classClusterApplWiseRoute.html" alt="ClusterApplWiseRoute" shape="rect" coords="0,112,137,136"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structCustomWiseRoute_1_1AdjListElement.html">AdjListElement</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa695963bda5019a6f77dfaacdaa741bf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCustomWiseRoute.html#aa695963bda5019a6f77dfaacdaa741bf">CustomWiseRoute</a> ()</td></tr>
<tr class="separator:aa695963bda5019a6f77dfaacdaa741bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3cb4f6b4bf22701e078bca2f338b10e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCustomWiseRoute.html#af3cb4f6b4bf22701e078bca2f338b10e">initialize</a> (int stage)</td></tr>
<tr class="separator:af3cb4f6b4bf22701e078bca2f338b10e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6d7555931de9bba7c9caca3c69a278c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCustomWiseRoute.html#ad6d7555931de9bba7c9caca3c69a278c">finish</a> ()</td></tr>
<tr class="separator:ad6d7555931de9bba7c9caca3c69a278c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcca1fbbf5cd472511415002ec8feecf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCustomWiseRoute.html#adcca1fbbf5cd472511415002ec8feecf">handleMessage</a> (<a class="elRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcMessage.html">cMessage</a> *msg)</td></tr>
<tr class="separator:adcca1fbbf5cd472511415002ec8feecf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f974c7eb3a7f4d52549e38649c69d25"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCustomWiseRoute.html#a7f974c7eb3a7f4d52549e38649c69d25">convertTreeToRouteTable</a> ()</td></tr>
<tr class="memdesc:a7f974c7eb3a7f4d52549e38649c69d25"><td class="mdescLeft">&#160;</td><td class="mdescRight">convert the general routing tree into the node specific routing table  <a href="#a7f974c7eb3a7f4d52549e38649c69d25">More...</a><br /></td></tr>
<tr class="separator:a7f974c7eb3a7f4d52549e38649c69d25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d1f1b8599560f6124b24e7a6ae55c33"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCustomWiseRoute.html#a3d1f1b8599560f6124b24e7a6ae55c33">makeEntry</a> (int targetAddr, int nextAddr)</td></tr>
<tr class="separator:a3d1f1b8599560f6124b24e7a6ae55c33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e320cacd71c4d233c4ff6d8d06d13ba"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCustomWiseRoute.html#a9e320cacd71c4d233c4ff6d8d06d13ba">proccessChildNodes</a> (int routeAddr, int father)</td></tr>
<tr class="memdesc:a9e320cacd71c4d233c4ff6d8d06d13ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">for a given child (routeAddr) the nodes of the entire subtree must be accessed through this given child node  <a href="#a9e320cacd71c4d233c4ff6d8d06d13ba">More...</a><br /></td></tr>
<tr class="separator:a9e320cacd71c4d233c4ff6d8d06d13ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a6bc5a99c38b353723715f9d520eff7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structCustomWiseRoute_1_1AdjListElement.html">AdjListElement</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCustomWiseRoute.html#a4a6bc5a99c38b353723715f9d520eff7">getChildNodes</a> (int nodeId)</td></tr>
<tr class="separator:a4a6bc5a99c38b353723715f9d520eff7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a2881179295fa2e9e98ff463890d479"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structCustomWiseRoute_1_1AdjListElement.html">AdjListElement</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCustomWiseRoute.html#a5a2881179295fa2e9e98ff463890d479">findListEnd</a> (<a class="el" href="structCustomWiseRoute_1_1AdjListElement.html">AdjListElement</a> *)</td></tr>
<tr class="memdesc:a5a2881179295fa2e9e98ff463890d479"><td class="mdescLeft">&#160;</td><td class="mdescRight">find the last element of a given list (<a class="el" href="structCustomWiseRoute_1_1AdjListElement.html">AdjListElement</a>)  <a href="#a5a2881179295fa2e9e98ff463890d479">More...</a><br /></td></tr>
<tr class="separator:a5a2881179295fa2e9e98ff463890d479"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d66c9ebb32e322b503d229894018c57"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCustomWiseRoute.html#a5d66c9ebb32e322b503d229894018c57">insertList</a> (int index, int value)</td></tr>
<tr class="separator:a5d66c9ebb32e322b503d229894018c57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a322b8173839975b5cea2ba157c8be6a8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCustomWiseRoute.html#a322b8173839975b5cea2ba157c8be6a8">containsElement</a> (<a class="el" href="structCustomWiseRoute_1_1AdjListElement.html">AdjListElement</a> *elem, int value)</td></tr>
<tr class="memdesc:a322b8173839975b5cea2ba157c8be6a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">check if a given value (node id) is element of the given list =&gt; check if the given node id is a child of the node's list  <a href="#a322b8173839975b5cea2ba157c8be6a8">More...</a><br /></td></tr>
<tr class="separator:a322b8173839975b5cea2ba157c8be6a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a325d9f1423baa489d76e9cb69cd4c47b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCustomWiseRoute.html#a325d9f1423baa489d76e9cb69cd4c47b">isAddrFatherOrChild</a> (int addr)</td></tr>
<tr class="memdesc:a325d9f1423baa489d76e9cb69cd4c47b"><td class="mdescLeft">&#160;</td><td class="mdescRight">check if the given address belongs to a node which is either my father node or one of my child nodes  <a href="#a325d9f1423baa489d76e9cb69cd4c47b">More...</a><br /></td></tr>
<tr class="separator:a325d9f1423baa489d76e9cb69cd4c47b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ad13963fde9a857d3cc5f7bdcf45af765"><td class="memItemLeft" align="right" valign="top">int *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCustomWiseRoute.html#ad13963fde9a857d3cc5f7bdcf45af765">routeTree</a></td></tr>
<tr class="separator:ad13963fde9a857d3cc5f7bdcf45af765"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ee45a1aee945cdde654ba2267e1cde4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structCustomWiseRoute_1_1AdjListElement.html">AdjListElement</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCustomWiseRoute.html#a3ee45a1aee945cdde654ba2267e1cde4">routeTreeAdjList</a></td></tr>
<tr class="separator:a3ee45a1aee945cdde654ba2267e1cde4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa75240b7547cf670e572338cbf27e915"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCustomWiseRoute.html#aa75240b7547cf670e572338cbf27e915">numHosts</a></td></tr>
<tr class="separator:aa75240b7547cf670e572338cbf27e915"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac53381468588a92c7f497da6de0683d0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCustomWiseRoute.html#ac53381468588a92c7f497da6de0683d0">isRoot</a></td></tr>
<tr class="separator:ac53381468588a92c7f497da6de0683d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a822bfbb18fd590b38bb84bb4bc7630cf"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCustomWiseRoute.html#a822bfbb18fd590b38bb84bb4bc7630cf">isLeaf</a></td></tr>
<tr class="separator:a822bfbb18fd590b38bb84bb4bc7630cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ef541aa2ff71276e9b7289c69f13b3b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCustomWiseRoute.html#a3ef541aa2ff71276e9b7289c69f13b3b">active</a></td></tr>
<tr class="separator:a3ef541aa2ff71276e9b7289c69f13b3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16755afa94e40a58c1dca193dcfc480a"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCustomWiseRoute.html#a16755afa94e40a58c1dca193dcfc480a">bcName</a></td></tr>
<tr class="separator:a16755afa94e40a58c1dca193dcfc480a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-types"></a>
Protected Types</h2></td></tr>
<tr class="memitem:a13fde26ee214454f81ca2a68fa4b6c9e"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCustomWiseRoute.html#a13fde26ee214454f81ca2a68fa4b6c9e">messagesTypes</a> { <br />
&#160;&#160;<a class="el" href="classCustomWiseRoute.html#a13fde26ee214454f81ca2a68fa4b6c9ea46337dbf33218d9c732c3ff4dad8cf66">UNKNOWN</a> =0, 
<a class="el" href="classCustomWiseRoute.html#a13fde26ee214454f81ca2a68fa4b6c9eacf8526d99509d081867ce6aff9a7a83b">DATA</a>, 
<a class="el" href="classCustomWiseRoute.html#a13fde26ee214454f81ca2a68fa4b6c9ea28fce003e85b80407013cb31cecc731f">ROUTE_FLOOD</a>, 
<a class="el" href="classCustomWiseRoute.html#a13fde26ee214454f81ca2a68fa4b6c9eada06e672e11f3e7c63c81bad9c683d83">SEND_ROUTE_FLOOD_TIMER</a>, 
<br />
&#160;&#160;<a class="el" href="classCustomWiseRoute.html#a13fde26ee214454f81ca2a68fa4b6c9eae38f5e95971846d7bfd3dd271cf5d12b">FORWARD_DELAYED</a>
<br />
 }<tr class="separator:a13fde26ee214454f81ca2a68fa4b6c9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a8deb02e68a640ea2fc2734c79792f96c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCustomWiseRoute.html#a8deb02e68a640ea2fc2734c79792f96c">sendToNeighbor</a> (<a class="elRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcMessage.html">cMessage</a> *msg, LAddress::L3Type &amp;finalDestAddr, LAddress::L3Type &amp;nextHopAddr, LAddress::L3Type &amp;initialSrcAddr, LAddress::L3Type &amp;srcAddr)</td></tr>
<tr class="separator:a8deb02e68a640ea2fc2734c79792f96c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98834231bf1a88afc4f268777b3c5fb8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCustomWiseRoute.html#a98834231bf1a88afc4f268777b3c5fb8">forward</a> (<a class="el" href="classApplPkt.html">ApplPkt</a> *msg, LAddress::L3Type)</td></tr>
<tr class="separator:a98834231bf1a88afc4f268777b3c5fb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a293eaba3eed5d866e525e715f1950aa2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCustomWiseRoute.html#a293eaba3eed5d866e525e715f1950aa2">forward</a> (<a class="elRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcMessage.html">cMessage</a> *msg, LAddress::L3Type)</td></tr>
<tr class="separator:a293eaba3eed5d866e525e715f1950aa2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74646c645fa0d781ed8df7d489adc90f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCustomWiseRoute.html#a74646c645fa0d781ed8df7d489adc90f">handleSelfMsg</a> (<a class="elRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcMessage.html">cMessage</a> *msg)</td></tr>
<tr class="separator:a74646c645fa0d781ed8df7d489adc90f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac383878848b472bb3bd68e81e3e77554"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCustomWiseRoute.html#ac383878848b472bb3bd68e81e3e77554">handleLowerMsg</a> (<a class="elRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcMessage.html">cMessage</a> *msg)</td></tr>
<tr class="memdesc:ac383878848b472bb3bd68e81e3e77554"><td class="mdescLeft">&#160;</td><td class="mdescRight">handle messages in different ways (and restore final destination) -&gt; if only i should receive -&gt; get the final destination (is it my own address? -&gt; appl layer) -&gt; if it was meant to be a broadcast -&gt; set the l3 bc address  <a href="#ac383878848b472bb3bd68e81e3e77554">More...</a><br /></td></tr>
<tr class="separator:ac383878848b472bb3bd68e81e3e77554"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a583d22f9657705c76079199e1361b241"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCustomWiseRoute.html#a583d22f9657705c76079199e1361b241">handleUpperControl</a> (<a class="elRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcMessage.html">cMessage</a> *msg)</td></tr>
<tr class="separator:a583d22f9657705c76079199e1361b241"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59d58e252ccdd230c681f8f8e98d7142"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCustomWiseRoute.html#a59d58e252ccdd230c681f8f8e98d7142">handleLowerControl</a> (<a class="elRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcMessage.html">cMessage</a> *msg)</td></tr>
<tr class="separator:a59d58e252ccdd230c681f8f8e98d7142"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad291198d9aa73eac038c6fa239bd8f30"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCustomWiseRoute.html#ad291198d9aa73eac038c6fa239bd8f30">handleUpperMsg</a> (<a class="elRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcMessage.html">cMessage</a> *msg)</td></tr>
<tr class="memdesc:ad291198d9aa73eac038c6fa239bd8f30"><td class="mdescLeft">&#160;</td><td class="mdescRight">check if target address is broadcast -&gt; send one message to each child and father node (done) transform any other target address (final destination -&gt; next hop)  <a href="#ad291198d9aa73eac038c6fa239bd8f30">More...</a><br /></td></tr>
<tr class="separator:ad291198d9aa73eac038c6fa239bd8f30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e744c80281fdf125f5d41143efba54c"><td class="memItemLeft" align="right" valign="top">netwpkt_ptr_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCustomWiseRoute.html#a7e744c80281fdf125f5d41143efba54c">encapsMsg</a> (<a class="elRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcPacket.html">cPacket</a> *appPkt)</td></tr>
<tr class="separator:a7e744c80281fdf125f5d41143efba54c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa804195da79173753f3b6a3961fa8d1d"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcPacket.html">cPacket</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCustomWiseRoute.html#aa804195da79173753f3b6a3961fa8d1d">decapsMsg</a> (netwpkt_ptr_t msg)</td></tr>
<tr class="separator:aa804195da79173753f3b6a3961fa8d1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60c5dd51ea61d4d80637d0bb3efcd721"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCustomWiseRoute.html#a60c5dd51ea61d4d80637d0bb3efcd721">handleHostState</a> (const HostState &amp;state)</td></tr>
<tr class="separator:a60c5dd51ea61d4d80637d0bb3efcd721"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:abc613921af0ec8fe3b171c6d998c7d9c"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcArray.html">cArray</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCustomWiseRoute.html#abc613921af0ec8fe3b171c6d998c7d9c">MessagesToBeForwarded</a></td></tr>
<tr class="separator:abc613921af0ec8fe3b171c6d998c7d9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7da0eb4ecf91658500ec9278e89fb721"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcMessage.html">cMessage</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCustomWiseRoute.html#a7da0eb4ecf91658500ec9278e89fb721">forwardMessagesSelfMsg</a></td></tr>
<tr class="separator:a7da0eb4ecf91658500ec9278e89fb721"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f2ec093eefe340f7c3b07f8e9e2c84e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCustomWiseRoute.html#a9f2ec093eefe340f7c3b07f8e9e2c84e">sendingIntervall</a></td></tr>
<tr class="separator:a9f2ec093eefe340f7c3b07f8e9e2c84e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1154c9be8314a6a8f1ebcbb129ec7a1c"><td class="memItemLeft" align="right" valign="top">std::vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCustomWiseRoute.html#a1154c9be8314a6a8f1ebcbb129ec7a1c">lastBroadcastId</a></td></tr>
<tr class="separator:a1154c9be8314a6a8f1ebcbb129ec7a1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a219919907d77bedca95c2da1035a6b37"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCustomWiseRoute.html#a219919907d77bedca95c2da1035a6b37">stats</a></td></tr>
<tr class="separator:a219919907d77bedca95c2da1035a6b37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49d1a46277bee51d0bb465759db703d8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCustomWiseRoute.html#a49d1a46277bee51d0bb465759db703d8">trace</a></td></tr>
<tr class="separator:a49d1a46277bee51d0bb465759db703d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f85685bcdc40862f18b29bc975cbdd7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCustomWiseRoute.html#a4f85685bcdc40862f18b29bc975cbdd7">networkID</a></td></tr>
<tr class="separator:a4f85685bcdc40862f18b29bc975cbdd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8be8391b92ab64acb49673a8f4731105"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCustomWiseRoute.html#a8be8391b92ab64acb49673a8f4731105">ip</a></td></tr>
<tr class="separator:a8be8391b92ab64acb49673a8f4731105"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Enumeration Documentation</h2>
<a class="anchor" id="a13fde26ee214454f81ca2a68fa4b6c9e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classCustomWiseRoute.html#a13fde26ee214454f81ca2a68fa4b6c9e">CustomWiseRoute::messagesTypes</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="a13fde26ee214454f81ca2a68fa4b6c9ea46337dbf33218d9c732c3ff4dad8cf66"></a>UNKNOWN&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a13fde26ee214454f81ca2a68fa4b6c9eacf8526d99509d081867ce6aff9a7a83b"></a>DATA&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a13fde26ee214454f81ca2a68fa4b6c9ea28fce003e85b80407013cb31cecc731f"></a>ROUTE_FLOOD&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a13fde26ee214454f81ca2a68fa4b6c9eada06e672e11f3e7c63c81bad9c683d83"></a>SEND_ROUTE_FLOOD_TIMER&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a13fde26ee214454f81ca2a68fa4b6c9eae38f5e95971846d7bfd3dd271cf5d12b"></a>FORWARD_DELAYED&#160;</td><td class="fielddoc">
</td></tr>
</table>
<div class="fragment"><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;                       {</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        <a class="code" href="classCustomWiseRoute.html#a13fde26ee214454f81ca2a68fa4b6c9ea46337dbf33218d9c732c3ff4dad8cf66">UNKNOWN</a>=0,</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        <a class="code" href="classCustomWiseRoute.html#a13fde26ee214454f81ca2a68fa4b6c9eacf8526d99509d081867ce6aff9a7a83b">DATA</a>,</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        <a class="code" href="classCustomWiseRoute.html#a13fde26ee214454f81ca2a68fa4b6c9ea28fce003e85b80407013cb31cecc731f">ROUTE_FLOOD</a>,</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        <a class="code" href="classCustomWiseRoute.html#a13fde26ee214454f81ca2a68fa4b6c9eada06e672e11f3e7c63c81bad9c683d83">SEND_ROUTE_FLOOD_TIMER</a>,</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        <span class="comment">//added</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        <a class="code" href="classCustomWiseRoute.html#a13fde26ee214454f81ca2a68fa4b6c9eae38f5e95971846d7bfd3dd271cf5d12b">FORWARD_DELAYED</a></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    };</div>
<div class="ttc" id="classCustomWiseRoute_html_a13fde26ee214454f81ca2a68fa4b6c9eacf8526d99509d081867ce6aff9a7a83b"><div class="ttname"><a href="classCustomWiseRoute.html#a13fde26ee214454f81ca2a68fa4b6c9eacf8526d99509d081867ce6aff9a7a83b">CustomWiseRoute::DATA</a></div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.h:65</div></div>
<div class="ttc" id="classCustomWiseRoute_html_a13fde26ee214454f81ca2a68fa4b6c9eada06e672e11f3e7c63c81bad9c683d83"><div class="ttname"><a href="classCustomWiseRoute.html#a13fde26ee214454f81ca2a68fa4b6c9eada06e672e11f3e7c63c81bad9c683d83">CustomWiseRoute::SEND_ROUTE_FLOOD_TIMER</a></div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.h:67</div></div>
<div class="ttc" id="classCustomWiseRoute_html_a13fde26ee214454f81ca2a68fa4b6c9ea28fce003e85b80407013cb31cecc731f"><div class="ttname"><a href="classCustomWiseRoute.html#a13fde26ee214454f81ca2a68fa4b6c9ea28fce003e85b80407013cb31cecc731f">CustomWiseRoute::ROUTE_FLOOD</a></div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.h:66</div></div>
<div class="ttc" id="classCustomWiseRoute_html_a13fde26ee214454f81ca2a68fa4b6c9ea46337dbf33218d9c732c3ff4dad8cf66"><div class="ttname"><a href="classCustomWiseRoute.html#a13fde26ee214454f81ca2a68fa4b6c9ea46337dbf33218d9c732c3ff4dad8cf66">CustomWiseRoute::UNKNOWN</a></div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.h:64</div></div>
<div class="ttc" id="classCustomWiseRoute_html_a13fde26ee214454f81ca2a68fa4b6c9eae38f5e95971846d7bfd3dd271cf5d12b"><div class="ttname"><a href="classCustomWiseRoute.html#a13fde26ee214454f81ca2a68fa4b6c9eae38f5e95971846d7bfd3dd271cf5d12b">CustomWiseRoute::FORWARD_DELAYED</a></div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.h:69</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aa695963bda5019a6f77dfaacdaa741bf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CustomWiseRoute::CustomWiseRoute </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;                                 : WiseRoute()</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;        , <a class="code" href="classCustomWiseRoute.html#a16755afa94e40a58c1dca193dcfc480a">bcName</a>(<span class="stringliteral">&quot;LAddress::L3BROADCAST&quot;</span>)</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;        , <a class="code" href="classCustomWiseRoute.html#a219919907d77bedca95c2da1035a6b37">stats</a>(<span class="keyword">false</span>)</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        , <a class="code" href="classCustomWiseRoute.html#a49d1a46277bee51d0bb465759db703d8">trace</a>(<span class="keyword">false</span>)</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;        , <a class="code" href="classCustomWiseRoute.html#a4f85685bcdc40862f18b29bc975cbdd7">networkID</a>(-1)</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;        , <a class="code" href="classCustomWiseRoute.html#a8be8391b92ab64acb49673a8f4731105">ip</a>(-1)</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;{</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <a class="code" href="classCustomWiseRoute.html#abc613921af0ec8fe3b171c6d998c7d9c">MessagesToBeForwarded</a> = <span class="keyword">new</span> <a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcArray.html">cArray</a>;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <a class="code" href="classCustomWiseRoute.html#a7da0eb4ecf91658500ec9278e89fb721">forwardMessagesSelfMsg</a> = NULL;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <a class="code" href="classCustomWiseRoute.html#a9f2ec093eefe340f7c3b07f8e9e2c84e">sendingIntervall</a> = 0;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;}</div>
<div class="ttc" id="classCustomWiseRoute_html_a16755afa94e40a58c1dca193dcfc480a"><div class="ttname"><a href="classCustomWiseRoute.html#a16755afa94e40a58c1dca193dcfc480a">CustomWiseRoute::bcName</a></div><div class="ttdeci">const char * bcName</div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.h:60</div></div>
<div class="ttc" id="classCustomWiseRoute_html_a4f85685bcdc40862f18b29bc975cbdd7"><div class="ttname"><a href="classCustomWiseRoute.html#a4f85685bcdc40862f18b29bc975cbdd7">CustomWiseRoute::networkID</a></div><div class="ttdeci">int networkID</div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.h:83</div></div>
<div class="ttc" id="classCustomWiseRoute_html_abc613921af0ec8fe3b171c6d998c7d9c"><div class="ttname"><a href="classCustomWiseRoute.html#abc613921af0ec8fe3b171c6d998c7d9c">CustomWiseRoute::MessagesToBeForwarded</a></div><div class="ttdeci">cArray * MessagesToBeForwarded</div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.h:72</div></div>
<div class="ttc" id="classCustomWiseRoute_html_a7da0eb4ecf91658500ec9278e89fb721"><div class="ttname"><a href="classCustomWiseRoute.html#a7da0eb4ecf91658500ec9278e89fb721">CustomWiseRoute::forwardMessagesSelfMsg</a></div><div class="ttdeci">cMessage * forwardMessagesSelfMsg</div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.h:73</div></div>
<div class="ttc" id="classCustomWiseRoute_html_a8be8391b92ab64acb49673a8f4731105"><div class="ttname"><a href="classCustomWiseRoute.html#a8be8391b92ab64acb49673a8f4731105">CustomWiseRoute::ip</a></div><div class="ttdeci">int ip</div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.h:84</div></div>
<div class="ttc" id="classCustomWiseRoute_html_a9f2ec093eefe340f7c3b07f8e9e2c84e"><div class="ttname"><a href="classCustomWiseRoute.html#a9f2ec093eefe340f7c3b07f8e9e2c84e">CustomWiseRoute::sendingIntervall</a></div><div class="ttdeci">int sendingIntervall</div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.h:74</div></div>
<div class="ttc" id="classCustomWiseRoute_html_a219919907d77bedca95c2da1035a6b37"><div class="ttname"><a href="classCustomWiseRoute.html#a219919907d77bedca95c2da1035a6b37">CustomWiseRoute::stats</a></div><div class="ttdeci">bool stats</div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.h:81</div></div>
<div class="ttc" id="classCustomWiseRoute_html_a49d1a46277bee51d0bb465759db703d8"><div class="ttname"><a href="classCustomWiseRoute.html#a49d1a46277bee51d0bb465759db703d8">CustomWiseRoute::trace</a></div><div class="ttdeci">bool trace</div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.h:81</div></div>
<div class="ttc" id="classcArray_html"><div class="ttname"><a href="/home/rutho/BA/omnetpp-4.5//doc/api/classcArray.html">cArray</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a322b8173839975b5cea2ba157c8be6a8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CustomWiseRoute::containsElement </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structCustomWiseRoute_1_1AdjListElement.html">AdjListElement</a> *&#160;</td>
          <td class="paramname"><em>elem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>check if a given value (node id) is element of the given list =&gt; check if the given node id is a child of the node's list </p>
<div class="fragment"><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                                                                     {</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="keywordflow">if</span> (value == elem-&gt;value) {</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    }</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="keywordflow">if</span> (elem-&gt;next == NULL) {</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    }</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classCustomWiseRoute.html#a322b8173839975b5cea2ba157c8be6a8">containsElement</a>(elem-&gt;next, value);</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;}</div>
<div class="ttc" id="classCustomWiseRoute_html_a322b8173839975b5cea2ba157c8be6a8"><div class="ttname"><a href="classCustomWiseRoute.html#a322b8173839975b5cea2ba157c8be6a8">CustomWiseRoute::containsElement</a></div><div class="ttdeci">bool containsElement(AdjListElement *elem, int value)</div><div class="ttdoc">check if a given value (node id) is element of the given list => check if the given node id is a chil...</div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.cc:153</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7f974c7eb3a7f4d52549e38649c69d25"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CustomWiseRoute::convertTreeToRouteTable </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>convert the general routing tree into the node specific routing table </p>
<div class="fragment"><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                                              {</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <span class="comment">//routeTree;</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="comment">//routeTable;</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <span class="comment">//myNetwAddr;</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <a class="code" href="classNoApplicationClusteringAppl.html">NoApplicationClusteringAppl</a>* appl = FindModule&lt;NoApplicationClusteringAppl*&gt;::findSubModule(findHost());</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <span class="keywordflow">if</span> (appl != NULL) {</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        appl-&gt;<a class="code" href="classNoApplicationClusteringAppl.html#a575ef0e69aa10c35b178f51bab3f256d">myNetworkAddr</a> = myNetwAddr;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    }</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="comment">//list of childs of the node i are inside routeTreeAdjList[i]</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="keywordtype">int</span> fatherAddr = <a class="code" href="classCustomWiseRoute.html#ad13963fde9a857d3cc5f7bdcf45af765">routeTree</a>[myNetwAddr];</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classCustomWiseRoute.html#a3ee45a1aee945cdde654ba2267e1cde4">routeTreeAdjList</a>[myNetwAddr].value == -1) {</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        <span class="comment">//no children</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        <span class="comment">//this means all other nodes can be accessed through the father</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        <a class="code" href="classCustomWiseRoute.html#a822bfbb18fd590b38bb84bb4bc7630cf">isLeaf</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        <span class="keywordflow">if</span> (appl != NULL) {</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;            appl-&gt;<a class="code" href="classNoApplicationClusteringAppl.html#ad969f36e14bd348df5fc85c05f586131">iAmLeafNode</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        }</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        <span class="comment">//proccess the children</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        AdjListElement* currentElement = &amp;<a class="code" href="classCustomWiseRoute.html#a3ee45a1aee945cdde654ba2267e1cde4">routeTreeAdjList</a>[myNetwAddr];</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;            <span class="keywordtype">int</span> child = currentElement-&gt;<a class="code" href="structCustomWiseRoute_1_1AdjListElement.html#a181dd971183cfd910954ed97484e3e58">value</a>;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;            <a class="code" href="classCustomWiseRoute.html#a3d1f1b8599560f6124b24e7a6ae55c33">makeEntry</a>(child, child);</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;            <a class="code" href="classCustomWiseRoute.html#a9e320cacd71c4d233c4ff6d8d06d13ba">proccessChildNodes</a>(child, child);</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;            currentElement = currentElement-&gt;next;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        } <span class="keywordflow">while</span> (currentElement != NULL);</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    }</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="keywordflow">if</span> (myNetwAddr == fatherAddr) {</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        <span class="comment">//no father -&gt; root</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        <a class="code" href="classCustomWiseRoute.html#ac53381468588a92c7f497da6de0683d0">isRoot</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        <span class="comment">//process all nodes that aren&#39;t children</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="classCustomWiseRoute.html#aa75240b7547cf670e572338cbf27e915">numHosts</a>; i++) {</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;            <span class="keywordflow">if</span> (i == myNetwAddr) {</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                <a class="code" href="classCustomWiseRoute.html#a3d1f1b8599560f6124b24e7a6ae55c33">makeEntry</a>(i, i);</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;                <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;            }</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="classCustomWiseRoute.html#a322b8173839975b5cea2ba157c8be6a8">containsElement</a>(&amp;<a class="code" href="classCustomWiseRoute.html#a3ee45a1aee945cdde654ba2267e1cde4">routeTreeAdjList</a>[myNetwAddr], i)) {</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                <a class="code" href="classCustomWiseRoute.html#a3d1f1b8599560f6124b24e7a6ae55c33">makeEntry</a>(i, <a class="code" href="classCustomWiseRoute.html#ad13963fde9a857d3cc5f7bdcf45af765">routeTree</a>[myNetwAddr]);</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;            }</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        }</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    }</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;}</div>
<div class="ttc" id="structCustomWiseRoute_1_1AdjListElement_html_a181dd971183cfd910954ed97484e3e58"><div class="ttname"><a href="structCustomWiseRoute_1_1AdjListElement.html#a181dd971183cfd910954ed97484e3e58">CustomWiseRoute::AdjListElement::value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.h:44</div></div>
<div class="ttc" id="classCustomWiseRoute_html_ac53381468588a92c7f497da6de0683d0"><div class="ttname"><a href="classCustomWiseRoute.html#ac53381468588a92c7f497da6de0683d0">CustomWiseRoute::isRoot</a></div><div class="ttdeci">bool isRoot</div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.h:57</div></div>
<div class="ttc" id="classNoApplicationClusteringAppl_html_ad969f36e14bd348df5fc85c05f586131"><div class="ttname"><a href="classNoApplicationClusteringAppl.html#ad969f36e14bd348df5fc85c05f586131">NoApplicationClusteringAppl::iAmLeafNode</a></div><div class="ttdeci">bool iAmLeafNode</div><div class="ttdef"><b>Definition:</b> NoApplicationClusteringAppl.h:34</div></div>
<div class="ttc" id="classNoApplicationClusteringAppl_html"><div class="ttname"><a href="classNoApplicationClusteringAppl.html">NoApplicationClusteringAppl</a></div><div class="ttdef"><b>Definition:</b> NoApplicationClusteringAppl.h:23</div></div>
<div class="ttc" id="classCustomWiseRoute_html_a3d1f1b8599560f6124b24e7a6ae55c33"><div class="ttname"><a href="classCustomWiseRoute.html#a3d1f1b8599560f6124b24e7a6ae55c33">CustomWiseRoute::makeEntry</a></div><div class="ttdeci">void makeEntry(int targetAddr, int nextAddr)</div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.cc:195</div></div>
<div class="ttc" id="classCustomWiseRoute_html_a3ee45a1aee945cdde654ba2267e1cde4"><div class="ttname"><a href="classCustomWiseRoute.html#a3ee45a1aee945cdde654ba2267e1cde4">CustomWiseRoute::routeTreeAdjList</a></div><div class="ttdeci">AdjListElement * routeTreeAdjList</div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.h:55</div></div>
<div class="ttc" id="classNoApplicationClusteringAppl_html_a575ef0e69aa10c35b178f51bab3f256d"><div class="ttname"><a href="classNoApplicationClusteringAppl.html#a575ef0e69aa10c35b178f51bab3f256d">NoApplicationClusteringAppl::myNetworkAddr</a></div><div class="ttdeci">int myNetworkAddr</div><div class="ttdef"><b>Definition:</b> NoApplicationClusteringAppl.h:35</div></div>
<div class="ttc" id="classCustomWiseRoute_html_ad13963fde9a857d3cc5f7bdcf45af765"><div class="ttname"><a href="classCustomWiseRoute.html#ad13963fde9a857d3cc5f7bdcf45af765">CustomWiseRoute::routeTree</a></div><div class="ttdeci">int * routeTree</div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.h:54</div></div>
<div class="ttc" id="classCustomWiseRoute_html_a822bfbb18fd590b38bb84bb4bc7630cf"><div class="ttname"><a href="classCustomWiseRoute.html#a822bfbb18fd590b38bb84bb4bc7630cf">CustomWiseRoute::isLeaf</a></div><div class="ttdeci">bool isLeaf</div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.h:58</div></div>
<div class="ttc" id="classCustomWiseRoute_html_a322b8173839975b5cea2ba157c8be6a8"><div class="ttname"><a href="classCustomWiseRoute.html#a322b8173839975b5cea2ba157c8be6a8">CustomWiseRoute::containsElement</a></div><div class="ttdeci">bool containsElement(AdjListElement *elem, int value)</div><div class="ttdoc">check if a given value (node id) is element of the given list => check if the given node id is a chil...</div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.cc:153</div></div>
<div class="ttc" id="classCustomWiseRoute_html_a9e320cacd71c4d233c4ff6d8d06d13ba"><div class="ttname"><a href="classCustomWiseRoute.html#a9e320cacd71c4d233c4ff6d8d06d13ba">CustomWiseRoute::proccessChildNodes</a></div><div class="ttdeci">void proccessChildNodes(int routeAddr, int father)</div><div class="ttdoc">for a given child (routeAddr) the nodes of the entire subtree must be accessed through this given chi...</div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.cc:285</div></div>
<div class="ttc" id="classCustomWiseRoute_html_aa75240b7547cf670e572338cbf27e915"><div class="ttname"><a href="classCustomWiseRoute.html#aa75240b7547cf670e572338cbf27e915">CustomWiseRoute::numHosts</a></div><div class="ttdeci">int numHosts</div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.h:56</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa804195da79173753f3b6a3961fa8d1d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcPacket.html">cPacket</a> * CustomWiseRoute::decapsMsg </td>
          <td>(</td>
          <td class="paramtype">netwpkt_ptr_t&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;                                                     {</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classCustomWiseRoute.html#a3ef541aa2ff71276e9b7289c69f13b3b">active</a>) {</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;        <a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcPacket.html">cPacket</a> *m = msg-&gt;<a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcPacket.html#acfa588354f43317d97bba9b8f35d0c17">decapsulate</a>();</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;        setUpControlInfo(m, msg-&gt;getSrcAddr());</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;            <span class="comment">// delete the netw packet</span></div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;        <span class="keyword">delete</span> msg;</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;        <span class="keywordflow">return</span> m;</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;        <span class="keyword">delete</span> msg;</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    }</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;}</div>
<div class="ttc" id="classcPacket_html"><div class="ttname"><a href="/home/rutho/BA/omnetpp-4.5//doc/api/classcPacket.html">cPacket</a></div></div>
<div class="ttc" id="classcPacket_html_acfa588354f43317d97bba9b8f35d0c17"><div class="ttname"><a href="/home/rutho/BA/omnetpp-4.5//doc/api/classcPacket.html#acfa588354f43317d97bba9b8f35d0c17">cPacket::decapsulate</a></div><div class="ttdeci">virtual cPacket * decapsulate()</div></div>
<div class="ttc" id="classCustomWiseRoute_html_a3ef541aa2ff71276e9b7289c69f13b3b"><div class="ttname"><a href="classCustomWiseRoute.html#a3ef541aa2ff71276e9b7289c69f13b3b">CustomWiseRoute::active</a></div><div class="ttdeci">bool active</div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.h:59</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7e744c80281fdf125f5d41143efba54c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">CustomWiseRoute::netwpkt_ptr_t CustomWiseRoute::encapsMsg </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcPacket.html">cPacket</a> *&#160;</td>
          <td class="paramname"><em>appPkt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;                                                                       {</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classCustomWiseRoute.html#a3ef541aa2ff71276e9b7289c69f13b3b">active</a>) {</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;        LAddress::L2Type macAddr;</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;        LAddress::L3Type netwAddr;</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;        debugEV &lt;&lt;<span class="stringliteral">&quot;in encaps...\n&quot;</span>;</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;        DummyRoutePkt *pkt = <span class="keyword">new</span> DummyRoutePkt(appPkt-&gt;<a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcNamedObject.html#a5b06a5fdb473bb997c939ba55435c041">getName</a>(), appPkt-&gt;<a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcMessage.html#a45a79146f61f6d3ae34fac3eb8473162">getKind</a>());</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;        pkt-&gt;setBitLength(headerLength);</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;        <a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcObject.html">cObject</a>* cInfo = appPkt-&gt;<a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcMessage.html#a92a7d217a94ea8372dc4da2f4156159d">removeControlInfo</a>();</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;        <span class="keywordflow">if</span>(cInfo == NULL){</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;          <a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/group__Envir.html#ga650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;warning: Application layer did not specifiy a destination L3 address\n&quot;</span></div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;           &lt;&lt; <span class="stringliteral">&quot;\tusing broadcast address instead\n&quot;</span>;</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;          netwAddr = LAddress::L3BROADCAST;</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;          <span class="comment">//debugEV &lt;&lt;&quot;CInfo removed, netw addr=&quot;&lt;&lt; NetwControlInfo::getAddressFromControlInfo( cInfo ) &lt;&lt; endl;</span></div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;          netwAddr = NetwControlInfo::getAddressFromControlInfo( cInfo );</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;          <span class="keyword">delete</span> cInfo;</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;        }</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;        pkt-&gt;setNetworkID(<a class="code" href="classCustomWiseRoute.html#a4f85685bcdc40862f18b29bc975cbdd7">networkID</a>);</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;        pkt-&gt;setSrcAddr(myNetwAddr);</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;        pkt-&gt;setDestAddr(netwAddr);</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;        <span class="comment">//debugEV &lt;&lt; &quot; netw &quot;&lt;&lt; myNetwAddr &lt;&lt; &quot; sending packet&quot; &lt;&lt;endl;</span></div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;        <span class="keywordflow">if</span>(LAddress::isL3Broadcast(netwAddr)) {</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    <span class="comment">//        debugEV &lt;&lt; &quot;sendDown: nHop=L3BROADCAST -&gt; message has to be broadcasted&quot;</span></div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    <span class="comment">//           &lt;&lt; &quot; -&gt; set destMac=L2BROADCAST\n&quot;;</span></div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;            macAddr = LAddress::L2BROADCAST;</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;        }</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;        <span class="keywordflow">else</span>{</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;            macAddr = arp-&gt;getMacAddr(netwAddr);</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;        }</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;        setDownControlInfo(pkt, macAddr);</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;        <span class="comment">//encapsulate the application packet</span></div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;        pkt-&gt;encapsulate(appPkt);</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;        debugEV &lt;&lt;<span class="stringliteral">&quot; pkt encapsulated\n&quot;</span>;</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;        <span class="keywordflow">return</span> pkt;</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;        <span class="keyword">delete</span> appPkt;</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    }</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;}</div>
<div class="ttc" id="classcObject_html"><div class="ttname"><a href="/home/rutho/BA/omnetpp-4.5//doc/api/classcObject.html">cObject</a></div></div>
<div class="ttc" id="classCustomWiseRoute_html_a4f85685bcdc40862f18b29bc975cbdd7"><div class="ttname"><a href="classCustomWiseRoute.html#a4f85685bcdc40862f18b29bc975cbdd7">CustomWiseRoute::networkID</a></div><div class="ttdeci">int networkID</div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.h:83</div></div>
<div class="ttc" id="classcMessage_html_a45a79146f61f6d3ae34fac3eb8473162"><div class="ttname"><a href="/home/rutho/BA/omnetpp-4.5//doc/api/classcMessage.html#a45a79146f61f6d3ae34fac3eb8473162">cMessage::getKind</a></div><div class="ttdeci">short getKind() const </div></div>
<div class="ttc" id="classcNamedObject_html_a5b06a5fdb473bb997c939ba55435c041"><div class="ttname"><a href="/home/rutho/BA/omnetpp-4.5//doc/api/classcNamedObject.html#a5b06a5fdb473bb997c939ba55435c041">cNamedObject::getName</a></div><div class="ttdeci">virtual const char * getName() const </div></div>
<div class="ttc" id="classCustomWiseRoute_html_a3ef541aa2ff71276e9b7289c69f13b3b"><div class="ttname"><a href="classCustomWiseRoute.html#a3ef541aa2ff71276e9b7289c69f13b3b">CustomWiseRoute::active</a></div><div class="ttdeci">bool active</div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.h:59</div></div>
<div class="ttc" id="classcMessage_html_a92a7d217a94ea8372dc4da2f4156159d"><div class="ttname"><a href="/home/rutho/BA/omnetpp-4.5//doc/api/classcMessage.html#a92a7d217a94ea8372dc4da2f4156159d">cMessage::removeControlInfo</a></div><div class="ttdeci">cObject * removeControlInfo()</div></div>
<div class="ttc" id="group__Envir_html_ga650ef3eff8a2900bef69dae29c05d2dd"><div class="ttname"><a href="/home/rutho/BA/omnetpp-4.5//doc/api/group__Envir.html#ga650ef3eff8a2900bef69dae29c05d2dd">EV</a></div><div class="ttdeci">#define EV</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5a2881179295fa2e9e98ff463890d479"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structCustomWiseRoute_1_1AdjListElement.html">CustomWiseRoute::AdjListElement</a> * CustomWiseRoute::findListEnd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structCustomWiseRoute_1_1AdjListElement.html">AdjListElement</a> *&#160;</td>
          <td class="paramname"><em>elem</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>find the last element of a given list (<a class="el" href="structCustomWiseRoute_1_1AdjListElement.html">AdjListElement</a>) </p>
<div class="fragment"><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                                                                                {</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keywordflow">if</span> (elem-&gt;next == NULL) {</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        <span class="keywordflow">return</span> elem;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    }</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classCustomWiseRoute.html#a5a2881179295fa2e9e98ff463890d479">findListEnd</a>(elem-&gt;next);</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;}</div>
<div class="ttc" id="classCustomWiseRoute_html_a5a2881179295fa2e9e98ff463890d479"><div class="ttname"><a href="classCustomWiseRoute.html#a5a2881179295fa2e9e98ff463890d479">CustomWiseRoute::findListEnd</a></div><div class="ttdeci">AdjListElement * findListEnd(AdjListElement *)</div><div class="ttdoc">find the last element of a given list (AdjListElement) </div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.cc:182</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad6d7555931de9bba7c9caca3c69a278c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CustomWiseRoute::finish </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;                             {</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    WiseRoute::finish();</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a98834231bf1a88afc4f268777b3c5fb8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CustomWiseRoute::forward </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classApplPkt.html">ApplPkt</a> *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">LAddress::L3Type&#160;</td>
          <td class="paramname"><em>srcAddr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;                                                                  {</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    <a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/group__Envir.html#ga650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;Wrong package, not forwarding&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;}</div>
<div class="ttc" id="group__Envir_html_ga650ef3eff8a2900bef69dae29c05d2dd"><div class="ttname"><a href="/home/rutho/BA/omnetpp-4.5//doc/api/group__Envir.html#ga650ef3eff8a2900bef69dae29c05d2dd">EV</a></div><div class="ttdeci">#define EV</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a293eaba3eed5d866e525e715f1950aa2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CustomWiseRoute::forward </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcMessage.html">cMessage</a> *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">LAddress::L3Type&#160;</td>
          <td class="paramname"><em>srcAddr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>transform destination address? handle broadcast</p>
<div class="fragment"><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;                                                                   {</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/group__Envir.html#ga650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;I am NODE &quot;</span> &lt;&lt; myNetwAddr&lt;&lt; <span class="stringliteral">&quot;-------------------- I am NODE ---------&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <span class="keywordflow">if</span> (msg-&gt;<a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcNamedObject.html#a5b06a5fdb473bb997c939ba55435c041">getName</a>() == NULL || msg-&gt;<a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcNamedObject.html#a5b06a5fdb473bb997c939ba55435c041">getName</a>() == <span class="stringliteral">&quot;&quot;</span> || msg-&gt;<a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcNamedObject.html#a5b06a5fdb473bb997c939ba55435c041">getName</a>()[0] == <span class="charliteral">&#39;\0&#39;</span>) {</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        <a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/group__Envir.html#ga650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;          received msg without name. Renaming it to &#39;unnamed packet&#39;.&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        msg-&gt;<a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcNamedObject.html#afdad5d1296c7c90d494dacfa42d9b5c4">setName</a>(<span class="stringliteral">&quot;unnamed packet&quot;</span>);</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;        <a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/group__Envir.html#ga650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;          received msg with name: &quot;</span> &lt;&lt; msg-&gt;<a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcNamedObject.html#a5b06a5fdb473bb997c939ba55435c041">getName</a>() &lt;&lt; endl;</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    }</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    <span class="comment">//sendDown(encapsMsg(check_and_cast&lt;cPacket*&gt;(msg)));</span></div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    LAddress::L3Type finalDestAddr;</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    LAddress::L3Type nextHopAddr;</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    LAddress::L3Type initialSrc;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcObject.html">cObject</a>*         cInfo = msg-&gt;<a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcMessage.html#a92a7d217a94ea8372dc4da2f4156159d">removeControlInfo</a>();</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <a class="code" href="classCustomWiseRoute.html#a1154c9be8314a6a8f1ebcbb129ec7a1c">lastBroadcastId</a>.push_back(msg-&gt;<a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcMessage.html#a33f235d82c6b6e442161829a170e55d4">getId</a>());</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    LAddress::L3Type L3myNetwAddr = myNetwAddr;</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;        <span class="keywordflow">if</span> ( cInfo == NULL ) {</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;            <a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/group__Envir.html#ga650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;WiseRoute warning: Application layer did not specifiy a destination L3 address\n&quot;</span></div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;               &lt;&lt; <span class="stringliteral">&quot;\tusing broadcast address instead\n&quot;</span>;</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;            finalDestAddr = LAddress::L3BROADCAST;</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;        }</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;            <a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/group__Envir.html#ga650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt;<span class="stringliteral">&quot;WiseRoute: CInfo removed, netw addr=&quot;</span>&lt;&lt; NetwControlInfo::getAddressFromControlInfo( cInfo ) &lt;&lt;endl;</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;            finalDestAddr = NetwControlInfo::getAddressFromControlInfo( cInfo );</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;            <span class="keyword">delete</span> cInfo;</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        }</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    <span class="keywordflow">if</span> (LAddress::isL3Broadcast(finalDestAddr) || srcAddr &gt;= 0) {</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;        <span class="comment">//nextHopAddr = LAddress::L3BROADCAST;</span></div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;        <span class="keywordflow">if</span> (srcAddr != -2) {</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;            <span class="keywordflow">if</span> (strcmp(msg-&gt;<a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcNamedObject.html#a5b06a5fdb473bb997c939ba55435c041">getName</a>(), <span class="stringliteral">&quot;WakeUpReceiverPacket&quot;</span>) == 0) {</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;                WakeUpPacket* wpkt = <a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/group__Functions.html#gac05a322b9912da77f8b797eeab7805f4">check_and_cast</a>&lt;WakeUpPacket*&gt;(msg);</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;                initialSrc = wpkt-&gt;getSrcAddr();</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;                WiseRoutePkt* wpkt = <a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/group__Functions.html#gac05a322b9912da77f8b797eeab7805f4">check_and_cast</a>&lt;WiseRoutePkt*&gt;(msg);</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;                initialSrc = wpkt-&gt;getInitialSrcAddr();</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;            }</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;            initialSrc = L3myNetwAddr;</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;        }</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;        <span class="comment">//SEND TO CHILDREN AND FATHER</span></div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;        <span class="comment">//child list</span></div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;        AdjListElement* childs = <a class="code" href="classCustomWiseRoute.html#a4a6bc5a99c38b353723715f9d520eff7">getChildNodes</a>(myNetwAddr);</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;        <span class="comment">//father (from array)</span></div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;        <span class="keywordtype">int</span> fatherAddress = <a class="code" href="classCustomWiseRoute.html#ad13963fde9a857d3cc5f7bdcf45af765">routeTree</a>[myNetwAddr];</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;        <span class="comment">//send to all direct children</span></div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        std::vector&lt;int&gt; children;</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;        <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;            <span class="keywordflow">if</span> (childs-&gt;value != -1) {</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;                children.push_back(childs-&gt;value);</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;                <a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcMessage.html">cMessage</a>* newMsg = msg-&gt;<a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcMessage.html#a231c291bf665945146df73676f591bc2">dup</a>();</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;                <span class="comment">//NetwControlInfo::setControlInfo(newMsg, LAddress::L3BROADCAST);</span></div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;                <a class="code" href="classCustomWiseRoute.html#a1154c9be8314a6a8f1ebcbb129ec7a1c">lastBroadcastId</a>.push_back(msg-&gt;<a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcMessage.html#a33f235d82c6b6e442161829a170e55d4">getId</a>());</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;                nextHopAddr = childs-&gt;value;</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;                <a class="code" href="classCustomWiseRoute.html#a8deb02e68a640ea2fc2734c79792f96c">sendToNeighbor</a>(newMsg, finalDestAddr, nextHopAddr, initialSrc, srcAddr);</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;            }</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;            childs = childs-&gt;next;</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;        } <span class="keywordflow">while</span> (childs != NULL);</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;        <span class="comment">//send to father</span></div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;        nextHopAddr = fatherAddress;</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;        <span class="keywordflow">if</span> (fatherAddress == myNetwAddr) {</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;            <span class="keyword">delete</span> msg;</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;        }</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;        <a class="code" href="classCustomWiseRoute.html#a8deb02e68a640ea2fc2734c79792f96c">sendToNeighbor</a>(msg, finalDestAddr, nextHopAddr, initialSrc, srcAddr);</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;        nextHopAddr = getRoute(finalDestAddr, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;        <span class="keywordflow">if</span> (srcAddr == -2) {</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;            initialSrc = myNetwAddr;</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;        }</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;        <a class="code" href="classCustomWiseRoute.html#a8deb02e68a640ea2fc2734c79792f96c">sendToNeighbor</a>(msg, finalDestAddr, nextHopAddr, initialSrc, srcAddr);</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    }</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;}</div>
<div class="ttc" id="classCustomWiseRoute_html_a4a6bc5a99c38b353723715f9d520eff7"><div class="ttname"><a href="classCustomWiseRoute.html#a4a6bc5a99c38b353723715f9d520eff7">CustomWiseRoute::getChildNodes</a></div><div class="ttdeci">AdjListElement * getChildNodes(int nodeId)</div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.cc:304</div></div>
<div class="ttc" id="classcObject_html"><div class="ttname"><a href="/home/rutho/BA/omnetpp-4.5//doc/api/classcObject.html">cObject</a></div></div>
<div class="ttc" id="classCustomWiseRoute_html_a1154c9be8314a6a8f1ebcbb129ec7a1c"><div class="ttname"><a href="classCustomWiseRoute.html#a1154c9be8314a6a8f1ebcbb129ec7a1c">CustomWiseRoute::lastBroadcastId</a></div><div class="ttdeci">std::vector&lt; int &gt; lastBroadcastId</div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.h:79</div></div>
<div class="ttc" id="classcNamedObject_html_a5b06a5fdb473bb997c939ba55435c041"><div class="ttname"><a href="/home/rutho/BA/omnetpp-4.5//doc/api/classcNamedObject.html#a5b06a5fdb473bb997c939ba55435c041">cNamedObject::getName</a></div><div class="ttdeci">virtual const char * getName() const </div></div>
<div class="ttc" id="classcNamedObject_html_afdad5d1296c7c90d494dacfa42d9b5c4"><div class="ttname"><a href="/home/rutho/BA/omnetpp-4.5//doc/api/classcNamedObject.html#afdad5d1296c7c90d494dacfa42d9b5c4">cNamedObject::setName</a></div><div class="ttdeci">virtual void setName(const char *s)</div></div>
<div class="ttc" id="classCustomWiseRoute_html_ad13963fde9a857d3cc5f7bdcf45af765"><div class="ttname"><a href="classCustomWiseRoute.html#ad13963fde9a857d3cc5f7bdcf45af765">CustomWiseRoute::routeTree</a></div><div class="ttdeci">int * routeTree</div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.h:54</div></div>
<div class="ttc" id="classCustomWiseRoute_html_a8deb02e68a640ea2fc2734c79792f96c"><div class="ttname"><a href="classCustomWiseRoute.html#a8deb02e68a640ea2fc2734c79792f96c">CustomWiseRoute::sendToNeighbor</a></div><div class="ttdeci">void sendToNeighbor(cMessage *msg, LAddress::L3Type &amp;finalDestAddr, LAddress::L3Type &amp;nextHopAddr, LAddress::L3Type &amp;initialSrcAddr, LAddress::L3Type &amp;srcAddr)</div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.cc:593</div></div>
<div class="ttc" id="classcMessage_html_a92a7d217a94ea8372dc4da2f4156159d"><div class="ttname"><a href="/home/rutho/BA/omnetpp-4.5//doc/api/classcMessage.html#a92a7d217a94ea8372dc4da2f4156159d">cMessage::removeControlInfo</a></div><div class="ttdeci">cObject * removeControlInfo()</div></div>
<div class="ttc" id="classcMessage_html_a33f235d82c6b6e442161829a170e55d4"><div class="ttname"><a href="/home/rutho/BA/omnetpp-4.5//doc/api/classcMessage.html#a33f235d82c6b6e442161829a170e55d4">cMessage::getId</a></div><div class="ttdeci">long getId() const </div></div>
<div class="ttc" id="group__Envir_html_ga650ef3eff8a2900bef69dae29c05d2dd"><div class="ttname"><a href="/home/rutho/BA/omnetpp-4.5//doc/api/group__Envir.html#ga650ef3eff8a2900bef69dae29c05d2dd">EV</a></div><div class="ttdeci">#define EV</div></div>
<div class="ttc" id="classcMessage_html_a231c291bf665945146df73676f591bc2"><div class="ttname"><a href="/home/rutho/BA/omnetpp-4.5//doc/api/classcMessage.html#a231c291bf665945146df73676f591bc2">cMessage::dup</a></div><div class="ttdeci">virtual cMessage * dup() const </div></div>
<div class="ttc" id="group__Functions_html_gac05a322b9912da77f8b797eeab7805f4"><div class="ttname"><a href="/home/rutho/BA/omnetpp-4.5//doc/api/group__Functions.html#gac05a322b9912da77f8b797eeab7805f4">check_and_cast</a></div><div class="ttdeci">T check_and_cast(cObject *p)</div></div>
<div class="ttc" id="classcMessage_html"><div class="ttname"><a href="/home/rutho/BA/omnetpp-4.5//doc/api/classcMessage.html">cMessage</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4a6bc5a99c38b353723715f9d520eff7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structCustomWiseRoute_1_1AdjListElement.html">CustomWiseRoute::AdjListElement</a> * CustomWiseRoute::getChildNodes </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nodeId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                                                                        {</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <span class="keywordflow">return</span> &amp;<a class="code" href="classCustomWiseRoute.html#a3ee45a1aee945cdde654ba2267e1cde4">routeTreeAdjList</a>[nodeId];</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;}</div>
<div class="ttc" id="classCustomWiseRoute_html_a3ee45a1aee945cdde654ba2267e1cde4"><div class="ttname"><a href="classCustomWiseRoute.html#a3ee45a1aee945cdde654ba2267e1cde4">CustomWiseRoute::routeTreeAdjList</a></div><div class="ttdeci">AdjListElement * routeTreeAdjList</div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.h:55</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a60c5dd51ea61d4d80637d0bb3efcd721"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CustomWiseRoute::handleHostState </td>
          <td>(</td>
          <td class="paramtype">const HostState &amp;&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;                                                            {</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    <span class="keywordflow">if</span>(notAffectedByHostState)</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    <span class="keywordflow">if</span>(state.get() != HostState::ACTIVE) {</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;        <a class="code" href="classCustomWiseRoute.html#a3ef541aa2ff71276e9b7289c69f13b3b">active</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;        <a class="code" href="classCustomWiseRoute.html#a3ef541aa2ff71276e9b7289c69f13b3b">active</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    }</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;}</div>
<div class="ttc" id="classCustomWiseRoute_html_a3ef541aa2ff71276e9b7289c69f13b3b"><div class="ttname"><a href="classCustomWiseRoute.html#a3ef541aa2ff71276e9b7289c69f13b3b">CustomWiseRoute::active</a></div><div class="ttdeci">bool active</div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.h:59</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a59d58e252ccdd230c681f8f8e98d7142"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CustomWiseRoute::handleLowerControl </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcMessage.html">cMessage</a> *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;                                                      {</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classCustomWiseRoute.html#a3ef541aa2ff71276e9b7289c69f13b3b">active</a>) {</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        sendControlUp(msg);</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        <span class="keyword">delete</span> msg;</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    }</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;}</div>
<div class="ttc" id="classCustomWiseRoute_html_a3ef541aa2ff71276e9b7289c69f13b3b"><div class="ttname"><a href="classCustomWiseRoute.html#a3ef541aa2ff71276e9b7289c69f13b3b">CustomWiseRoute::active</a></div><div class="ttdeci">bool active</div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.h:59</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac383878848b472bb3bd68e81e3e77554"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CustomWiseRoute::handleLowerMsg </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcMessage.html">cMessage</a> *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>handle messages in different ways (and restore final destination) -&gt; if only i should receive -&gt; get the final destination (is it my own address? -&gt; appl layer) -&gt; if it was meant to be a broadcast -&gt; set the l3 bc address </p>
<div class="fragment"><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;                                                  {</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classCustomWiseRoute.html#a3ef541aa2ff71276e9b7289c69f13b3b">active</a>) {</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        <span class="keywordflow">if</span> (strcmp(msg-&gt;<a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcNamedObject.html#a5b06a5fdb473bb997c939ba55435c041">getName</a>(), <span class="stringliteral">&quot;WakeUpReceiverPacket&quot;</span>) == 0) {</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;            WiseRoutePkt* pkt = <a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/group__Functions.html#gac05a322b9912da77f8b797eeab7805f4">check_and_cast</a>&lt;WiseRoutePkt*&gt;(msg);</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;            WiseRoutePkt* copyPkt = pkt-&gt;dup();</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;            <span class="comment">//pkt-&gt;setFinalDestAddr(LAddress::L3BROADCAST);</span></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;            sendUp(<a class="code" href="classCustomWiseRoute.html#aa804195da79173753f3b6a3961fa8d1d">decapsMsg</a>(pkt));</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;            <span class="comment">//forward broadcast</span></div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;            LAddress::L3Type finalDestAddr = copyPkt-&gt;getFinalDestAddr();</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;            LAddress::L3Type initialSrcAddr = copyPkt-&gt;getInitialSrcAddr();</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;            LAddress::L3Type destAddr = copyPkt-&gt;getDestAddr();</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;            LAddress::L3Type srcAddr = copyPkt-&gt;getSrcAddr();</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;            WakeUpPacket* wuPkt = <span class="keyword">new</span> WakeUpPacket;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;            wuPkt-&gt;setDestAddr(LAddress::L3BROADCAST);</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;            wuPkt-&gt;setSrcAddr(srcAddr);</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;            wuPkt-&gt;setName(<span class="stringliteral">&quot;WakeUpReceiverPacket&quot;</span>);</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;            NetwControlInfo::setControlInfo(wuPkt, LAddress::L3BROADCAST);</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;            <a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/group__Envir.html#ga650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;-------------------- I am NODE &quot;</span> &lt;&lt; myNetwAddr &lt;&lt; <span class="stringliteral">&quot;. FORWARDING WakeUpReceiverPacket.&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;            <span class="keywordflow">if</span> (LAddress::isL3Broadcast(finalDestAddr)) {</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                <span class="comment">//pkt-&gt;setFinalDestAddr();</span></div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;                <span class="comment">//NetwControlInfo::setControlInfo(copyPkt, LAddress::L3BROADCAST);</span></div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;                <a class="code" href="classCustomWiseRoute.html#a98834231bf1a88afc4f268777b3c5fb8">forward</a>(wuPkt, srcAddr);</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;            }</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(msg-&gt;<a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcNamedObject.html#a5b06a5fdb473bb997c939ba55435c041">getName</a>(), <span class="stringliteral">&quot;sensor data&quot;</span>) == 0) {</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;            <span class="comment">//only store the message</span></div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;            <span class="comment">//it will be forwarded later (triggered by self message forwardMessagesSelfMsg)</span></div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;            WiseRoutePkt* pkt = <a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/group__Functions.html#gac05a322b9912da77f8b797eeab7805f4">check_and_cast</a>&lt;WiseRoutePkt*&gt;(msg);</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;            LAddress::L3Type finalDestAddr = pkt-&gt;getFinalDestAddr();</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;            <span class="keywordflow">if</span> (myNetwAddr == finalDestAddr) {</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;                sendUp(<a class="code" href="classCustomWiseRoute.html#aa804195da79173753f3b6a3961fa8d1d">decapsMsg</a>(pkt));</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                <a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/group__Envir.html#ga650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;-------------------- I am NODE &quot;</span> &lt;&lt; myNetwAddr &lt;&lt; <span class="stringliteral">&quot;. GOT FORWARDED MESSAGES AND I AM FINAL RECEIVER.&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                <span class="keywordtype">int</span> index = <a class="code" href="classCustomWiseRoute.html#abc613921af0ec8fe3b171c6d998c7d9c">MessagesToBeForwarded</a>-&gt;<a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcArray.html#ac7d7369e49551ecdd74d8d1e528d106c">add</a>(msg);</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;                <a class="code" href="classNoApplicationClusteringAppl.html">NoApplicationClusteringAppl</a>* appl = FindModule&lt;NoApplicationClusteringAppl*&gt;::findSubModule(findHost());</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;                <span class="keywordflow">if</span> (appl != NULL) {</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;                    <a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcMessage.html">cMessage</a>* forwardMsgEvent = <span class="keyword">new</span> <a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcMessage.html">cMessage</a>;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;                    forwardMsgEvent-&gt;<a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcMessage.html#a67d6d293fbc28aa92362c19fa9bdb412">setKind</a>(<a class="code" href="classCustomWiseRoute.html#a13fde26ee214454f81ca2a68fa4b6c9eae38f5e95971846d7bfd3dd271cf5d12b">FORWARD_DELAYED</a>);</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;                    std::stringstream strs;</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;                    strs &lt;&lt; index;</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;                    std::string temp_str = strs.str();</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;                    <span class="keywordtype">char</span> <span class="keyword">const</span>* char_type = temp_str.c_str();</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;                    forwardMsgEvent-&gt;<a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcNamedObject.html#afdad5d1296c7c90d494dacfa42d9b5c4">setName</a>(char_type);</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;                    scheduleAt(simTime() + 5, forwardMsgEvent);</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                }</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                <a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/group__Envir.html#ga650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;-------------------- I am NODE &quot;</span> &lt;&lt; myNetwAddr &lt;&lt; <span class="stringliteral">&quot;. GOT MESSAGE TO BE FORWARDED LATER. WAITING FOR MORE MESSAGES FIRST.&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;            }</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;            WiseRoutePkt* pkt = <a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/group__Functions.html#gac05a322b9912da77f8b797eeab7805f4">check_and_cast</a>&lt;WiseRoutePkt*&gt;(msg);</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;            <span class="comment">//pkt-&gt;setFinalDestAddr(LAddress::L3BROADCAST);</span></div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;            WiseRoutePkt* copyPkt = pkt-&gt;dup();</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;            sendUp(<a class="code" href="classCustomWiseRoute.html#aa804195da79173753f3b6a3961fa8d1d">decapsMsg</a>(pkt));</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;            <span class="comment">//forward broadcast</span></div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;            LAddress::L3Type finalDestAddr = copyPkt-&gt;getFinalDestAddr();</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;            LAddress::L3Type initialSrcAddr = copyPkt-&gt;getInitialSrcAddr();</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;            LAddress::L3Type destAddr = copyPkt-&gt;getDestAddr();</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;            LAddress::L3Type srcAddr = copyPkt-&gt;getSrcAddr();</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;            <a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/group__Envir.html#ga650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;-------------------- I am NODE &quot;</span> &lt;&lt; myNetwAddr &lt;&lt; <span class="stringliteral">&quot;. FORWARDING&quot;</span> &lt;&lt; <span class="stringliteral">&quot; message.&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;            <span class="keywordflow">if</span> (LAddress::isL3Broadcast(finalDestAddr)) {</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;                <span class="comment">//pkt-&gt;setFinalDestAddr();</span></div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;                NetwControlInfo::setControlInfo(copyPkt, LAddress::L3BROADCAST);</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;                <a class="code" href="classCustomWiseRoute.html#a98834231bf1a88afc4f268777b3c5fb8">forward</a>(copyPkt, srcAddr);</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;            }</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        }</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;        <span class="keyword">delete</span> msg;</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    }</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;}</div>
<div class="ttc" id="classCustomWiseRoute_html_a98834231bf1a88afc4f268777b3c5fb8"><div class="ttname"><a href="classCustomWiseRoute.html#a98834231bf1a88afc4f268777b3c5fb8">CustomWiseRoute::forward</a></div><div class="ttdeci">void forward(ApplPkt *msg, LAddress::L3Type)</div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.cc:489</div></div>
<div class="ttc" id="classcArray_html_ac7d7369e49551ecdd74d8d1e528d106c"><div class="ttname"><a href="/home/rutho/BA/omnetpp-4.5//doc/api/classcArray.html#ac7d7369e49551ecdd74d8d1e528d106c">cArray::add</a></div><div class="ttdeci">int add(cObject *obj)</div></div>
<div class="ttc" id="classNoApplicationClusteringAppl_html"><div class="ttname"><a href="classNoApplicationClusteringAppl.html">NoApplicationClusteringAppl</a></div><div class="ttdef"><b>Definition:</b> NoApplicationClusteringAppl.h:23</div></div>
<div class="ttc" id="classCustomWiseRoute_html_abc613921af0ec8fe3b171c6d998c7d9c"><div class="ttname"><a href="classCustomWiseRoute.html#abc613921af0ec8fe3b171c6d998c7d9c">CustomWiseRoute::MessagesToBeForwarded</a></div><div class="ttdeci">cArray * MessagesToBeForwarded</div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.h:72</div></div>
<div class="ttc" id="classCustomWiseRoute_html_a13fde26ee214454f81ca2a68fa4b6c9eae38f5e95971846d7bfd3dd271cf5d12b"><div class="ttname"><a href="classCustomWiseRoute.html#a13fde26ee214454f81ca2a68fa4b6c9eae38f5e95971846d7bfd3dd271cf5d12b">CustomWiseRoute::FORWARD_DELAYED</a></div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.h:69</div></div>
<div class="ttc" id="classcNamedObject_html_a5b06a5fdb473bb997c939ba55435c041"><div class="ttname"><a href="/home/rutho/BA/omnetpp-4.5//doc/api/classcNamedObject.html#a5b06a5fdb473bb997c939ba55435c041">cNamedObject::getName</a></div><div class="ttdeci">virtual const char * getName() const </div></div>
<div class="ttc" id="classcMessage_html_a67d6d293fbc28aa92362c19fa9bdb412"><div class="ttname"><a href="/home/rutho/BA/omnetpp-4.5//doc/api/classcMessage.html#a67d6d293fbc28aa92362c19fa9bdb412">cMessage::setKind</a></div><div class="ttdeci">void setKind(short k)</div></div>
<div class="ttc" id="classcNamedObject_html_afdad5d1296c7c90d494dacfa42d9b5c4"><div class="ttname"><a href="/home/rutho/BA/omnetpp-4.5//doc/api/classcNamedObject.html#afdad5d1296c7c90d494dacfa42d9b5c4">cNamedObject::setName</a></div><div class="ttdeci">virtual void setName(const char *s)</div></div>
<div class="ttc" id="classCustomWiseRoute_html_aa804195da79173753f3b6a3961fa8d1d"><div class="ttname"><a href="classCustomWiseRoute.html#aa804195da79173753f3b6a3961fa8d1d">CustomWiseRoute::decapsMsg</a></div><div class="ttdeci">cPacket * decapsMsg(netwpkt_ptr_t msg)</div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.cc:684</div></div>
<div class="ttc" id="classCustomWiseRoute_html_a3ef541aa2ff71276e9b7289c69f13b3b"><div class="ttname"><a href="classCustomWiseRoute.html#a3ef541aa2ff71276e9b7289c69f13b3b">CustomWiseRoute::active</a></div><div class="ttdeci">bool active</div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.h:59</div></div>
<div class="ttc" id="group__Envir_html_ga650ef3eff8a2900bef69dae29c05d2dd"><div class="ttname"><a href="/home/rutho/BA/omnetpp-4.5//doc/api/group__Envir.html#ga650ef3eff8a2900bef69dae29c05d2dd">EV</a></div><div class="ttdeci">#define EV</div></div>
<div class="ttc" id="group__Functions_html_gac05a322b9912da77f8b797eeab7805f4"><div class="ttname"><a href="/home/rutho/BA/omnetpp-4.5//doc/api/group__Functions.html#gac05a322b9912da77f8b797eeab7805f4">check_and_cast</a></div><div class="ttdeci">T check_and_cast(cObject *p)</div></div>
<div class="ttc" id="classcMessage_html"><div class="ttname"><a href="/home/rutho/BA/omnetpp-4.5//doc/api/classcMessage.html">cMessage</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="adcca1fbbf5cd472511415002ec8feecf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CustomWiseRoute::handleMessage </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcMessage.html">cMessage</a> *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;{</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/group__Envir.html#ga650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;Wiseroute received Message: &quot;</span> &lt;&lt; msg-&gt;<a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcNamedObject.html#a5b06a5fdb473bb997c939ba55435c041">getName</a>() &lt;&lt; endl;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="keywordflow">if</span> (msg-&gt;<a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcMessage.html#add2134e78e0b47ee6abf83a382802d82">isSelfMessage</a>()) {</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        <a class="code" href="classCustomWiseRoute.html#a74646c645fa0d781ed8df7d489adc90f">handleSelfMsg</a>(msg);</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(msg-&gt;<a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcMessage.html#a6250070d489a6fca8f3ad2861d6a4d8c">getArrivalGateId</a>()==upperLayerIn) {</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        recordPacket(PassedMessage::INCOMING,PassedMessage::UPPER_DATA,msg);</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        <a class="code" href="classCustomWiseRoute.html#ad291198d9aa73eac038c6fa239bd8f30">handleUpperMsg</a>(msg);</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(msg-&gt;<a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcMessage.html#a6250070d489a6fca8f3ad2861d6a4d8c">getArrivalGateId</a>()==upperControlIn) {</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        recordPacket(PassedMessage::INCOMING,PassedMessage::UPPER_CONTROL,msg);</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        <a class="code" href="classCustomWiseRoute.html#a583d22f9657705c76079199e1361b241">handleUpperControl</a>(msg);</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(msg-&gt;<a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcMessage.html#a6250070d489a6fca8f3ad2861d6a4d8c">getArrivalGateId</a>()==lowerControlIn){</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        recordPacket(PassedMessage::INCOMING,PassedMessage::LOWER_CONTROL,msg);</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        <a class="code" href="classCustomWiseRoute.html#a59d58e252ccdd230c681f8f8e98d7142">handleLowerControl</a>(msg);</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(msg-&gt;<a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcMessage.html#a6250070d489a6fca8f3ad2861d6a4d8c">getArrivalGateId</a>()==lowerLayerIn) {</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        recordPacket(PassedMessage::INCOMING,PassedMessage::LOWER_DATA,msg);</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        <a class="code" href="classCustomWiseRoute.html#ac383878848b472bb3bd68e81e3e77554">handleLowerMsg</a>(msg);</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    }</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(msg-&gt;<a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcMessage.html#a6250070d489a6fca8f3ad2861d6a4d8c">getArrivalGateId</a>()==-1) {</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        <span class="comment">/* Classes extending this class may not use all the gates, f.e.</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="comment">         * BaseApplLayer has no upper gates. In this case all upper gate-</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment">         * handles are initialized to -1. When getArrivalGateId() equals -1,</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment">         * it would be wrong to forward the message to one of these gates,</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment">         * as they actually don&#39;t exist, so raise an error instead.</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        opp_error(<span class="stringliteral">&quot;No self message and no gateID?? Check configuration.&quot;</span>);</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        <span class="comment">/* msg-&gt;getArrivalGateId() should be valid, but it isn&#39;t recognized</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="comment">         * here. This could signal the case that this class is extended</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="comment">         * with extra gates, but handleMessage() isn&#39;t overridden to</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment">         * check for the new gate(s).</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        opp_error(<span class="stringliteral">&quot;Unknown gateID?? Check configuration or override handleMessage().&quot;</span>);</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    }</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;}</div>
<div class="ttc" id="classCustomWiseRoute_html_a74646c645fa0d781ed8df7d489adc90f"><div class="ttname"><a href="classCustomWiseRoute.html#a74646c645fa0d781ed8df7d489adc90f">CustomWiseRoute::handleSelfMsg</a></div><div class="ttdeci">void handleSelfMsg(cMessage *msg)</div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.cc:313</div></div>
<div class="ttc" id="classcMessage_html_add2134e78e0b47ee6abf83a382802d82"><div class="ttname"><a href="/home/rutho/BA/omnetpp-4.5//doc/api/classcMessage.html#add2134e78e0b47ee6abf83a382802d82">cMessage::isSelfMessage</a></div><div class="ttdeci">bool isSelfMessage() const </div></div>
<div class="ttc" id="classCustomWiseRoute_html_ad291198d9aa73eac038c6fa239bd8f30"><div class="ttname"><a href="classCustomWiseRoute.html#ad291198d9aa73eac038c6fa239bd8f30">CustomWiseRoute::handleUpperMsg</a></div><div class="ttdeci">void handleUpperMsg(cMessage *msg)</div><div class="ttdoc">check if target address is broadcast -> send one message to each child and father node (done) transfo...</div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.cc:479</div></div>
<div class="ttc" id="classCustomWiseRoute_html_ac383878848b472bb3bd68e81e3e77554"><div class="ttname"><a href="classCustomWiseRoute.html#ac383878848b472bb3bd68e81e3e77554">CustomWiseRoute::handleLowerMsg</a></div><div class="ttdeci">void handleLowerMsg(cMessage *msg)</div><div class="ttdoc">handle messages in different ways (and restore final destination) -> if only i should receive -> get ...</div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.cc:374</div></div>
<div class="ttc" id="classCustomWiseRoute_html_a59d58e252ccdd230c681f8f8e98d7142"><div class="ttname"><a href="classCustomWiseRoute.html#a59d58e252ccdd230c681f8f8e98d7142">CustomWiseRoute::handleLowerControl</a></div><div class="ttdeci">void handleLowerControl(cMessage *msg)</div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.cc:467</div></div>
<div class="ttc" id="classcNamedObject_html_a5b06a5fdb473bb997c939ba55435c041"><div class="ttname"><a href="/home/rutho/BA/omnetpp-4.5//doc/api/classcNamedObject.html#a5b06a5fdb473bb997c939ba55435c041">cNamedObject::getName</a></div><div class="ttdeci">virtual const char * getName() const </div></div>
<div class="ttc" id="classcMessage_html_a6250070d489a6fca8f3ad2861d6a4d8c"><div class="ttname"><a href="/home/rutho/BA/omnetpp-4.5//doc/api/classcMessage.html#a6250070d489a6fca8f3ad2861d6a4d8c">cMessage::getArrivalGateId</a></div><div class="ttdeci">int getArrivalGateId() const </div></div>
<div class="ttc" id="classCustomWiseRoute_html_a583d22f9657705c76079199e1361b241"><div class="ttname"><a href="classCustomWiseRoute.html#a583d22f9657705c76079199e1361b241">CustomWiseRoute::handleUpperControl</a></div><div class="ttdeci">void handleUpperControl(cMessage *msg)</div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.cc:462</div></div>
<div class="ttc" id="group__Envir_html_ga650ef3eff8a2900bef69dae29c05d2dd"><div class="ttname"><a href="/home/rutho/BA/omnetpp-4.5//doc/api/group__Envir.html#ga650ef3eff8a2900bef69dae29c05d2dd">EV</a></div><div class="ttdeci">#define EV</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a74646c645fa0d781ed8df7d489adc90f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CustomWiseRoute::handleSelfMsg </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcMessage.html">cMessage</a> *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;{</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <span class="keywordflow">if</span> (msg-&gt;<a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcMessage.html#a45a79146f61f6d3ae34fac3eb8473162">getKind</a>() == <a class="code" href="classCustomWiseRoute.html#a13fde26ee214454f81ca2a68fa4b6c9eada06e672e11f3e7c63c81bad9c683d83">SEND_ROUTE_FLOOD_TIMER</a>) {</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;        <span class="comment">// Send route flood packet and restart the timer</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        WiseRoutePkt* pkt = <span class="keyword">new</span> WiseRoutePkt(<span class="stringliteral">&quot;route-flood&quot;</span>, <a class="code" href="classCustomWiseRoute.html#a13fde26ee214454f81ca2a68fa4b6c9ea28fce003e85b80407013cb31cecc731f">ROUTE_FLOOD</a>);</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        pkt-&gt;setByteLength(headerLength);</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        pkt-&gt;setInitialSrcAddr(myNetwAddr);</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        pkt-&gt;setFinalDestAddr(LAddress::L3BROADCAST);</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        pkt-&gt;setSrcAddr(myNetwAddr);</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        pkt-&gt;setDestAddr(LAddress::L3BROADCAST);</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        pkt-&gt;setNbHops(0);</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        floodTable.insert(make_pair(myNetwAddr, floodSeqNumber));</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        pkt-&gt;setSeqNum(floodSeqNumber);</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        floodSeqNumber++;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        pkt-&gt;setIsFlood(1);</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        setDownControlInfo(pkt, LAddress::L2BROADCAST);</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        sendDown(pkt);</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        nbFloodsSent++;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        nbRouteFloodsSent++;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;        scheduleAt(simTime() + routeFloodsInterval + <a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/group__RandomNumbersCont.html#ga4a63082fca94b8abf6d6164aea972a0f">uniform</a>(0, 1), routeFloodTimer);</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (msg-&gt;<a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcMessage.html#a45a79146f61f6d3ae34fac3eb8473162">getKind</a>() == <a class="code" href="classCustomWiseRoute.html#a13fde26ee214454f81ca2a68fa4b6c9eae38f5e95971846d7bfd3dd271cf5d12b">FORWARD_DELAYED</a>) {</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        <span class="keywordtype">int</span> index = atoi(msg-&gt;<a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcNamedObject.html#a5b06a5fdb473bb997c939ba55435c041">getName</a>());</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classCustomWiseRoute.html#abc613921af0ec8fe3b171c6d998c7d9c">MessagesToBeForwarded</a>-&gt;<a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcArray.html#ad8780c71b4aabe1563d31a13095f10c5">exist</a>(index)) {</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;            <a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcMessage.html">cMessage</a>* forwardMessage = <a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/group__Functions.html#gac05a322b9912da77f8b797eeab7805f4">check_and_cast</a>&lt;<a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcMessage.html">cMessage</a>*&gt;(<a class="code" href="classCustomWiseRoute.html#abc613921af0ec8fe3b171c6d998c7d9c">MessagesToBeForwarded</a>-&gt;<a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcArray.html#a4897e70a8589f1c5af2b67ba5552ffba">remove</a>(index));</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;            <span class="keywordflow">if</span> (forwardMessage != NULL) {</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;                WiseRoutePkt* pkt = <a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/group__Functions.html#gac05a322b9912da77f8b797eeab7805f4">check_and_cast</a>&lt;WiseRoutePkt*&gt;(forwardMessage);</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                <span class="comment">//pkt-&gt;setFinalDestAddr(LAddress::L3BROADCAST);</span></div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                WiseRoutePkt* copyPkt = pkt-&gt;dup();</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;                <span class="comment">//sendUp(decapsMsg(pkt));</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;                <span class="comment">//forward broadcast</span></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;                LAddress::L3Type finalDestAddr = copyPkt-&gt;getFinalDestAddr();</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;                LAddress::L3Type initialSrcAddr = copyPkt-&gt;getInitialSrcAddr();</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;                LAddress::L3Type destAddr = copyPkt-&gt;getDestAddr();</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;                LAddress::L3Type srcAddr = copyPkt-&gt;getSrcAddr();</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                <a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/group__Envir.html#ga650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;-------------------- I am NODE &quot;</span> &lt;&lt; myNetwAddr &lt;&lt; <span class="stringliteral">&quot;. FORWARDING&quot;</span> &lt;&lt; <span class="stringliteral">&quot; message.&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;                <span class="comment">//pkt-&gt;setFinalDestAddr();</span></div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;                NetwControlInfo::setControlInfo(copyPkt, finalDestAddr);</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;                <a class="code" href="classCustomWiseRoute.html#a98834231bf1a88afc4f268777b3c5fb8">forward</a>(copyPkt, -2);</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;            }</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        }</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    }</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;        <a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/group__Envir.html#ga650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;WiseRoute - handleSelfMessage: got unexpected message of kind &quot;</span> &lt;&lt; msg-&gt;<a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcMessage.html#a45a79146f61f6d3ae34fac3eb8473162">getKind</a>() &lt;&lt; endl;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;        <span class="keyword">delete</span> msg;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    }</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;}</div>
<div class="ttc" id="classCustomWiseRoute_html_a98834231bf1a88afc4f268777b3c5fb8"><div class="ttname"><a href="classCustomWiseRoute.html#a98834231bf1a88afc4f268777b3c5fb8">CustomWiseRoute::forward</a></div><div class="ttdeci">void forward(ApplPkt *msg, LAddress::L3Type)</div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.cc:489</div></div>
<div class="ttc" id="classCustomWiseRoute_html_a13fde26ee214454f81ca2a68fa4b6c9eada06e672e11f3e7c63c81bad9c683d83"><div class="ttname"><a href="classCustomWiseRoute.html#a13fde26ee214454f81ca2a68fa4b6c9eada06e672e11f3e7c63c81bad9c683d83">CustomWiseRoute::SEND_ROUTE_FLOOD_TIMER</a></div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.h:67</div></div>
<div class="ttc" id="classCustomWiseRoute_html_a13fde26ee214454f81ca2a68fa4b6c9ea28fce003e85b80407013cb31cecc731f"><div class="ttname"><a href="classCustomWiseRoute.html#a13fde26ee214454f81ca2a68fa4b6c9ea28fce003e85b80407013cb31cecc731f">CustomWiseRoute::ROUTE_FLOOD</a></div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.h:66</div></div>
<div class="ttc" id="classcArray_html_ad8780c71b4aabe1563d31a13095f10c5"><div class="ttname"><a href="/home/rutho/BA/omnetpp-4.5//doc/api/classcArray.html#ad8780c71b4aabe1563d31a13095f10c5">cArray::exist</a></div><div class="ttdeci">bool exist(int m) const </div></div>
<div class="ttc" id="classCustomWiseRoute_html_abc613921af0ec8fe3b171c6d998c7d9c"><div class="ttname"><a href="classCustomWiseRoute.html#abc613921af0ec8fe3b171c6d998c7d9c">CustomWiseRoute::MessagesToBeForwarded</a></div><div class="ttdeci">cArray * MessagesToBeForwarded</div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.h:72</div></div>
<div class="ttc" id="classcMessage_html_a45a79146f61f6d3ae34fac3eb8473162"><div class="ttname"><a href="/home/rutho/BA/omnetpp-4.5//doc/api/classcMessage.html#a45a79146f61f6d3ae34fac3eb8473162">cMessage::getKind</a></div><div class="ttdeci">short getKind() const </div></div>
<div class="ttc" id="classCustomWiseRoute_html_a13fde26ee214454f81ca2a68fa4b6c9eae38f5e95971846d7bfd3dd271cf5d12b"><div class="ttname"><a href="classCustomWiseRoute.html#a13fde26ee214454f81ca2a68fa4b6c9eae38f5e95971846d7bfd3dd271cf5d12b">CustomWiseRoute::FORWARD_DELAYED</a></div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.h:69</div></div>
<div class="ttc" id="classcNamedObject_html_a5b06a5fdb473bb997c939ba55435c041"><div class="ttname"><a href="/home/rutho/BA/omnetpp-4.5//doc/api/classcNamedObject.html#a5b06a5fdb473bb997c939ba55435c041">cNamedObject::getName</a></div><div class="ttdeci">virtual const char * getName() const </div></div>
<div class="ttc" id="group__RandomNumbersCont_html_ga4a63082fca94b8abf6d6164aea972a0f"><div class="ttname"><a href="/home/rutho/BA/omnetpp-4.5//doc/api/group__RandomNumbersCont.html#ga4a63082fca94b8abf6d6164aea972a0f">uniform</a></div><div class="ttdeci">SIM_API double uniform(double a, double b, int rng=0)</div></div>
<div class="ttc" id="classcArray_html_a4897e70a8589f1c5af2b67ba5552ffba"><div class="ttname"><a href="/home/rutho/BA/omnetpp-4.5//doc/api/classcArray.html#a4897e70a8589f1c5af2b67ba5552ffba">cArray::remove</a></div><div class="ttdeci">cObject * remove(int m)</div></div>
<div class="ttc" id="group__Envir_html_ga650ef3eff8a2900bef69dae29c05d2dd"><div class="ttname"><a href="/home/rutho/BA/omnetpp-4.5//doc/api/group__Envir.html#ga650ef3eff8a2900bef69dae29c05d2dd">EV</a></div><div class="ttdeci">#define EV</div></div>
<div class="ttc" id="group__Functions_html_gac05a322b9912da77f8b797eeab7805f4"><div class="ttname"><a href="/home/rutho/BA/omnetpp-4.5//doc/api/group__Functions.html#gac05a322b9912da77f8b797eeab7805f4">check_and_cast</a></div><div class="ttdeci">T check_and_cast(cObject *p)</div></div>
<div class="ttc" id="classcMessage_html"><div class="ttname"><a href="/home/rutho/BA/omnetpp-4.5//doc/api/classcMessage.html">cMessage</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a583d22f9657705c76079199e1361b241"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CustomWiseRoute::handleUpperControl </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcMessage.html">cMessage</a> *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;                                                      {</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    <span class="keyword">delete</span> msg;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad291198d9aa73eac038c6fa239bd8f30"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CustomWiseRoute::handleUpperMsg </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcMessage.html">cMessage</a> *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>check if target address is broadcast -&gt; send one message to each child and father node (done) transform any other target address (final destination -&gt; next hop) </p>
<div class="fragment"><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;                                                  {</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classCustomWiseRoute.html#a3ef541aa2ff71276e9b7289c69f13b3b">active</a>) {</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;        <a class="code" href="classCustomWiseRoute.html#a98834231bf1a88afc4f268777b3c5fb8">forward</a>(msg, -2);</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        <span class="keyword">delete</span> msg;</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    }</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;}</div>
<div class="ttc" id="classCustomWiseRoute_html_a98834231bf1a88afc4f268777b3c5fb8"><div class="ttname"><a href="classCustomWiseRoute.html#a98834231bf1a88afc4f268777b3c5fb8">CustomWiseRoute::forward</a></div><div class="ttdeci">void forward(ApplPkt *msg, LAddress::L3Type)</div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.cc:489</div></div>
<div class="ttc" id="classCustomWiseRoute_html_a3ef541aa2ff71276e9b7289c69f13b3b"><div class="ttname"><a href="classCustomWiseRoute.html#a3ef541aa2ff71276e9b7289c69f13b3b">CustomWiseRoute::active</a></div><div class="ttdeci">bool active</div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.h:59</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af3cb4f6b4bf22701e078bca2f338b10e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CustomWiseRoute::initialize </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>stage</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;                                          {</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    WiseRoute::initialize(stage);</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="keywordflow">if</span> (stage == 0) {</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        <a class="code" href="classCustomWiseRoute.html#ac53381468588a92c7f497da6de0683d0">isRoot</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        <a class="code" href="classCustomWiseRoute.html#a822bfbb18fd590b38bb84bb4bc7630cf">isLeaf</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        <a class="code" href="classCustomWiseRoute.html#a3ef541aa2ff71276e9b7289c69f13b3b">active</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        <a class="code" href="classCustomWiseRoute.html#a49d1a46277bee51d0bb465759db703d8">trace</a> = par(<span class="stringliteral">&quot;trace&quot;</span>);</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        <a class="code" href="classCustomWiseRoute.html#a4f85685bcdc40862f18b29bc975cbdd7">networkID</a> = par(<span class="stringliteral">&quot;networkID&quot;</span>);</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        <a class="code" href="classCustomWiseRoute.html#a7da0eb4ecf91658500ec9278e89fb721">forwardMessagesSelfMsg</a> = <span class="keyword">new</span> <a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcMessage.html">cMessage</a>;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        <a class="code" href="classCustomWiseRoute.html#a7da0eb4ecf91658500ec9278e89fb721">forwardMessagesSelfMsg</a>-&gt;<a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcMessage.html#a67d6d293fbc28aa92362c19fa9bdb412">setKind</a>(<a class="code" href="classCustomWiseRoute.html#a13fde26ee214454f81ca2a68fa4b6c9eae38f5e95971846d7bfd3dd271cf5d12b">FORWARD_DELAYED</a>);</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        <a class="code" href="classNoApplicationClusteringAppl.html">NoApplicationClusteringAppl</a>* appl = FindModule&lt;NoApplicationClusteringAppl*&gt;::findSubModule(findHost());</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        <span class="keywordflow">if</span> (appl != NULL) {</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;            <a class="code" href="classCustomWiseRoute.html#a9f2ec093eefe340f7c3b07f8e9e2c84e">sendingIntervall</a> = appl-&gt;par(<span class="stringliteral">&quot;sendingIntervall&quot;</span>);</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        }</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        <span class="keywordflow">if</span> (appl != NULL) {</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;            <span class="comment">//scheduleAt(simTime() + sendingIntervall + 5 + (myNetwAddr*0.1), forwardMessagesSelfMsg);</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        }</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    }</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="keywordflow">if</span> (stage == 1) {</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        SensorNode* node = (SensorNode*) this-&gt;getParentModule();</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *vstr = node-&gt;par(<span class="stringliteral">&quot;routeTree&quot;</span>).stringValue();</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        std::vector&lt;std::string&gt; v = <a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcStringTokenizer.html">cStringTokenizer</a>(vstr).<a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcStringTokenizer.html#a8b1a9ea250b0f88a67b8aee444ed3285">asVector</a>();</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        <span class="keywordtype">int</span> max = v.size();</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        <a class="code" href="classCustomWiseRoute.html#aa75240b7547cf670e572338cbf27e915">numHosts</a> = max;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        <a class="code" href="classCustomWiseRoute.html#ad13963fde9a857d3cc5f7bdcf45af765">routeTree</a> = <span class="keyword">new</span> <span class="keywordtype">int</span>[max];</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        <a class="code" href="classCustomWiseRoute.html#a3ee45a1aee945cdde654ba2267e1cde4">routeTreeAdjList</a> = <span class="keyword">new</span> AdjListElement[max];</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; max; i++) {</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;            <span class="comment">//routeTree[i] = std::stoi(v.at(i));</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;            <a class="code" href="classCustomWiseRoute.html#ad13963fde9a857d3cc5f7bdcf45af765">routeTree</a>[i] = atoi( v[i].c_str() );</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;            <a class="code" href="classCustomWiseRoute.html#a3ee45a1aee945cdde654ba2267e1cde4">routeTreeAdjList</a>-&gt;<a class="code" href="structCustomWiseRoute_1_1AdjListElement.html#a181dd971183cfd910954ed97484e3e58">value</a> = -1;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;            <span class="comment">//EV &lt;&lt; routeTree[i] &lt;&lt; endl;</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        }</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> child = 0; child &lt; max; child++) {</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;            <span class="keywordtype">int</span> father = <a class="code" href="classCustomWiseRoute.html#ad13963fde9a857d3cc5f7bdcf45af765">routeTree</a>[child];</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;            <span class="keywordflow">if</span> (child != father) {</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;                <a class="code" href="classCustomWiseRoute.html#a5d66c9ebb32e322b503d229894018c57">insertList</a>(father, child);</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;            }</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        }</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        <a class="code" href="classCustomWiseRoute.html#a7f974c7eb3a7f4d52549e38649c69d25">convertTreeToRouteTable</a>();</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        <span class="comment">//output routing tables</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        <a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/group__Envir.html#ga650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;Routing table for &quot;</span> &lt;&lt; myNetwAddr &lt;&lt; endl;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="classCustomWiseRoute.html#aa75240b7547cf670e572338cbf27e915">numHosts</a>; i++) {</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;            <a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/group__Envir.html#ga650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;target: &quot;</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot;, next: &quot;</span> &lt;&lt; getRoute(i) &lt;&lt; endl;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        }</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    }</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;}</div>
<div class="ttc" id="structCustomWiseRoute_1_1AdjListElement_html_a181dd971183cfd910954ed97484e3e58"><div class="ttname"><a href="structCustomWiseRoute_1_1AdjListElement.html#a181dd971183cfd910954ed97484e3e58">CustomWiseRoute::AdjListElement::value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.h:44</div></div>
<div class="ttc" id="classCustomWiseRoute_html_ac53381468588a92c7f497da6de0683d0"><div class="ttname"><a href="classCustomWiseRoute.html#ac53381468588a92c7f497da6de0683d0">CustomWiseRoute::isRoot</a></div><div class="ttdeci">bool isRoot</div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.h:57</div></div>
<div class="ttc" id="classCustomWiseRoute_html_a7f974c7eb3a7f4d52549e38649c69d25"><div class="ttname"><a href="classCustomWiseRoute.html#a7f974c7eb3a7f4d52549e38649c69d25">CustomWiseRoute::convertTreeToRouteTable</a></div><div class="ttdeci">void convertTreeToRouteTable()</div><div class="ttdoc">convert the general routing tree into the node specific routing table </div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.cc:231</div></div>
<div class="ttc" id="classNoApplicationClusteringAppl_html"><div class="ttname"><a href="classNoApplicationClusteringAppl.html">NoApplicationClusteringAppl</a></div><div class="ttdef"><b>Definition:</b> NoApplicationClusteringAppl.h:23</div></div>
<div class="ttc" id="classCustomWiseRoute_html_a4f85685bcdc40862f18b29bc975cbdd7"><div class="ttname"><a href="classCustomWiseRoute.html#a4f85685bcdc40862f18b29bc975cbdd7">CustomWiseRoute::networkID</a></div><div class="ttdeci">int networkID</div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.h:83</div></div>
<div class="ttc" id="classcStringTokenizer_html"><div class="ttname"><a href="/home/rutho/BA/omnetpp-4.5//doc/api/classcStringTokenizer.html">cStringTokenizer</a></div></div>
<div class="ttc" id="classcStringTokenizer_html_a8b1a9ea250b0f88a67b8aee444ed3285"><div class="ttname"><a href="/home/rutho/BA/omnetpp-4.5//doc/api/classcStringTokenizer.html#a8b1a9ea250b0f88a67b8aee444ed3285">cStringTokenizer::asVector</a></div><div class="ttdeci">std::vector&lt; std::string &gt; asVector()</div></div>
<div class="ttc" id="classCustomWiseRoute_html_a7da0eb4ecf91658500ec9278e89fb721"><div class="ttname"><a href="classCustomWiseRoute.html#a7da0eb4ecf91658500ec9278e89fb721">CustomWiseRoute::forwardMessagesSelfMsg</a></div><div class="ttdeci">cMessage * forwardMessagesSelfMsg</div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.h:73</div></div>
<div class="ttc" id="classCustomWiseRoute_html_a13fde26ee214454f81ca2a68fa4b6c9eae38f5e95971846d7bfd3dd271cf5d12b"><div class="ttname"><a href="classCustomWiseRoute.html#a13fde26ee214454f81ca2a68fa4b6c9eae38f5e95971846d7bfd3dd271cf5d12b">CustomWiseRoute::FORWARD_DELAYED</a></div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.h:69</div></div>
<div class="ttc" id="classCustomWiseRoute_html_a9f2ec093eefe340f7c3b07f8e9e2c84e"><div class="ttname"><a href="classCustomWiseRoute.html#a9f2ec093eefe340f7c3b07f8e9e2c84e">CustomWiseRoute::sendingIntervall</a></div><div class="ttdeci">int sendingIntervall</div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.h:74</div></div>
<div class="ttc" id="classcMessage_html_a67d6d293fbc28aa92362c19fa9bdb412"><div class="ttname"><a href="/home/rutho/BA/omnetpp-4.5//doc/api/classcMessage.html#a67d6d293fbc28aa92362c19fa9bdb412">cMessage::setKind</a></div><div class="ttdeci">void setKind(short k)</div></div>
<div class="ttc" id="classCustomWiseRoute_html_a3ee45a1aee945cdde654ba2267e1cde4"><div class="ttname"><a href="classCustomWiseRoute.html#a3ee45a1aee945cdde654ba2267e1cde4">CustomWiseRoute::routeTreeAdjList</a></div><div class="ttdeci">AdjListElement * routeTreeAdjList</div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.h:55</div></div>
<div class="ttc" id="classCustomWiseRoute_html_ad13963fde9a857d3cc5f7bdcf45af765"><div class="ttname"><a href="classCustomWiseRoute.html#ad13963fde9a857d3cc5f7bdcf45af765">CustomWiseRoute::routeTree</a></div><div class="ttdeci">int * routeTree</div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.h:54</div></div>
<div class="ttc" id="classCustomWiseRoute_html_a822bfbb18fd590b38bb84bb4bc7630cf"><div class="ttname"><a href="classCustomWiseRoute.html#a822bfbb18fd590b38bb84bb4bc7630cf">CustomWiseRoute::isLeaf</a></div><div class="ttdeci">bool isLeaf</div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.h:58</div></div>
<div class="ttc" id="classCustomWiseRoute_html_a3ef541aa2ff71276e9b7289c69f13b3b"><div class="ttname"><a href="classCustomWiseRoute.html#a3ef541aa2ff71276e9b7289c69f13b3b">CustomWiseRoute::active</a></div><div class="ttdeci">bool active</div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.h:59</div></div>
<div class="ttc" id="group__Envir_html_ga650ef3eff8a2900bef69dae29c05d2dd"><div class="ttname"><a href="/home/rutho/BA/omnetpp-4.5//doc/api/group__Envir.html#ga650ef3eff8a2900bef69dae29c05d2dd">EV</a></div><div class="ttdeci">#define EV</div></div>
<div class="ttc" id="classCustomWiseRoute_html_a5d66c9ebb32e322b503d229894018c57"><div class="ttname"><a href="classCustomWiseRoute.html#a5d66c9ebb32e322b503d229894018c57">CustomWiseRoute::insertList</a></div><div class="ttdeci">void insertList(int index, int value)</div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.cc:169</div></div>
<div class="ttc" id="classCustomWiseRoute_html_a49d1a46277bee51d0bb465759db703d8"><div class="ttname"><a href="classCustomWiseRoute.html#a49d1a46277bee51d0bb465759db703d8">CustomWiseRoute::trace</a></div><div class="ttdeci">bool trace</div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.h:81</div></div>
<div class="ttc" id="classCustomWiseRoute_html_aa75240b7547cf670e572338cbf27e915"><div class="ttname"><a href="classCustomWiseRoute.html#aa75240b7547cf670e572338cbf27e915">CustomWiseRoute::numHosts</a></div><div class="ttdeci">int numHosts</div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.h:56</div></div>
<div class="ttc" id="classcMessage_html"><div class="ttname"><a href="/home/rutho/BA/omnetpp-4.5//doc/api/classcMessage.html">cMessage</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5d66c9ebb32e322b503d229894018c57"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CustomWiseRoute::insertList </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                                                     {</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    AdjListElement* last = <a class="code" href="classCustomWiseRoute.html#a5a2881179295fa2e9e98ff463890d479">findListEnd</a>(&amp;<a class="code" href="classCustomWiseRoute.html#a3ee45a1aee945cdde654ba2267e1cde4">routeTreeAdjList</a>[index]);</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="keywordflow">if</span> (last-&gt;value != -1) {</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        AdjListElement* newLast = <span class="keyword">new</span> AdjListElement;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        last-&gt;next = newLast;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        last = newLast;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    }</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    last-&gt;value = value;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;}</div>
<div class="ttc" id="classCustomWiseRoute_html_a3ee45a1aee945cdde654ba2267e1cde4"><div class="ttname"><a href="classCustomWiseRoute.html#a3ee45a1aee945cdde654ba2267e1cde4">CustomWiseRoute::routeTreeAdjList</a></div><div class="ttdeci">AdjListElement * routeTreeAdjList</div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.h:55</div></div>
<div class="ttc" id="classCustomWiseRoute_html_a5a2881179295fa2e9e98ff463890d479"><div class="ttname"><a href="classCustomWiseRoute.html#a5a2881179295fa2e9e98ff463890d479">CustomWiseRoute::findListEnd</a></div><div class="ttdeci">AdjListElement * findListEnd(AdjListElement *)</div><div class="ttdoc">find the last element of a given list (AdjListElement) </div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.cc:182</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a325d9f1423baa489d76e9cb69cd4c47b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CustomWiseRoute::isAddrFatherOrChild </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>addr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>check if the given address belongs to a node which is either my father node or one of my child nodes </p>
<div class="fragment"><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                                                  {</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classCustomWiseRoute.html#a822bfbb18fd590b38bb84bb4bc7630cf">isLeaf</a>) {</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        AdjListElement* childs = <a class="code" href="classCustomWiseRoute.html#a4a6bc5a99c38b353723715f9d520eff7">getChildNodes</a>(myNetwAddr);</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;            <span class="keywordflow">if</span> (childs-&gt;value == addr) {</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;            }</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;            childs = childs-&gt;next;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        } <span class="keywordflow">while</span> (childs != NULL);</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    }</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classCustomWiseRoute.html#ac53381468588a92c7f497da6de0683d0">isRoot</a>) {</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        <span class="keywordtype">int</span> fatherAddress = <a class="code" href="classCustomWiseRoute.html#ad13963fde9a857d3cc5f7bdcf45af765">routeTree</a>[myNetwAddr];</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        <span class="keywordflow">if</span> (fatherAddress == addr) {</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        }</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    }</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;}</div>
<div class="ttc" id="classCustomWiseRoute_html_ac53381468588a92c7f497da6de0683d0"><div class="ttname"><a href="classCustomWiseRoute.html#ac53381468588a92c7f497da6de0683d0">CustomWiseRoute::isRoot</a></div><div class="ttdeci">bool isRoot</div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.h:57</div></div>
<div class="ttc" id="classCustomWiseRoute_html_a4a6bc5a99c38b353723715f9d520eff7"><div class="ttname"><a href="classCustomWiseRoute.html#a4a6bc5a99c38b353723715f9d520eff7">CustomWiseRoute::getChildNodes</a></div><div class="ttdeci">AdjListElement * getChildNodes(int nodeId)</div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.cc:304</div></div>
<div class="ttc" id="classCustomWiseRoute_html_ad13963fde9a857d3cc5f7bdcf45af765"><div class="ttname"><a href="classCustomWiseRoute.html#ad13963fde9a857d3cc5f7bdcf45af765">CustomWiseRoute::routeTree</a></div><div class="ttdeci">int * routeTree</div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.h:54</div></div>
<div class="ttc" id="classCustomWiseRoute_html_a822bfbb18fd590b38bb84bb4bc7630cf"><div class="ttname"><a href="classCustomWiseRoute.html#a822bfbb18fd590b38bb84bb4bc7630cf">CustomWiseRoute::isLeaf</a></div><div class="ttdeci">bool isLeaf</div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.h:58</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3d1f1b8599560f6124b24e7a6ae55c33"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CustomWiseRoute::makeEntry </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>targetAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nextAddr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;                                                            {</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    WiseRoute::tRouteTableEntry newEntry;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    newEntry.nextHop = nextAddr;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    routeTable.insert(make_pair(targetAddr, newEntry));</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9e320cacd71c4d233c4ff6d8d06d13ba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CustomWiseRoute::proccessChildNodes </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>routeAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>father</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>for a given child (routeAddr) the nodes of the entire subtree must be accessed through this given child node </p>
<div class="fragment"><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                                                                  {</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    AdjListElement* currentElement = &amp;<a class="code" href="classCustomWiseRoute.html#a3ee45a1aee945cdde654ba2267e1cde4">routeTreeAdjList</a>[routeAddr];</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        <span class="keywordtype">int</span> child = currentElement-&gt;<a class="code" href="structCustomWiseRoute_1_1AdjListElement.html#a181dd971183cfd910954ed97484e3e58">value</a>;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        <span class="keywordflow">if</span> (child == -1) {</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        }</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        <a class="code" href="classCustomWiseRoute.html#a3d1f1b8599560f6124b24e7a6ae55c33">makeEntry</a>(child, father);</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        <span class="comment">//recursive</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        <a class="code" href="classCustomWiseRoute.html#a9e320cacd71c4d233c4ff6d8d06d13ba">proccessChildNodes</a>(child, father);</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        currentElement = currentElement-&gt;next;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    } <span class="keywordflow">while</span> (currentElement != NULL);</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;}</div>
<div class="ttc" id="structCustomWiseRoute_1_1AdjListElement_html_a181dd971183cfd910954ed97484e3e58"><div class="ttname"><a href="structCustomWiseRoute_1_1AdjListElement.html#a181dd971183cfd910954ed97484e3e58">CustomWiseRoute::AdjListElement::value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.h:44</div></div>
<div class="ttc" id="classCustomWiseRoute_html_a3d1f1b8599560f6124b24e7a6ae55c33"><div class="ttname"><a href="classCustomWiseRoute.html#a3d1f1b8599560f6124b24e7a6ae55c33">CustomWiseRoute::makeEntry</a></div><div class="ttdeci">void makeEntry(int targetAddr, int nextAddr)</div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.cc:195</div></div>
<div class="ttc" id="classCustomWiseRoute_html_a3ee45a1aee945cdde654ba2267e1cde4"><div class="ttname"><a href="classCustomWiseRoute.html#a3ee45a1aee945cdde654ba2267e1cde4">CustomWiseRoute::routeTreeAdjList</a></div><div class="ttdeci">AdjListElement * routeTreeAdjList</div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.h:55</div></div>
<div class="ttc" id="classCustomWiseRoute_html_a9e320cacd71c4d233c4ff6d8d06d13ba"><div class="ttname"><a href="classCustomWiseRoute.html#a9e320cacd71c4d233c4ff6d8d06d13ba">CustomWiseRoute::proccessChildNodes</a></div><div class="ttdeci">void proccessChildNodes(int routeAddr, int father)</div><div class="ttdoc">for a given child (routeAddr) the nodes of the entire subtree must be accessed through this given chi...</div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.cc:285</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8deb02e68a640ea2fc2734c79792f96c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CustomWiseRoute::sendToNeighbor </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcMessage.html">cMessage</a> *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">LAddress::L3Type &amp;&#160;</td>
          <td class="paramname"><em>finalDestAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">LAddress::L3Type &amp;&#160;</td>
          <td class="paramname"><em>nextHopAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">LAddress::L3Type &amp;&#160;</td>
          <td class="paramname"><em>initialSrcAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">LAddress::L3Type &amp;&#160;</td>
          <td class="paramname"><em>srcAddr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;                                                                                                                                                                       {</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    <span class="comment">//außer BC</span></div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    <span class="keywordflow">if</span> (!LAddress::isL3Broadcast(nextHopAddr) &amp;&amp; nextHopAddr == srcAddr) {</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;        <span class="keyword">delete</span> msg;</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    }</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    <a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/group__Envir.html#ga650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;Nexthop  :&quot;</span> &lt;&lt; nextHopAddr &lt;&lt; <span class="stringliteral">&quot;-------------------- I am NODE ---------&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    LAddress::L2Type nextHopMacAddr;</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *name;</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    <span class="keywordflow">if</span> (strcmp(msg-&gt;<a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcNamedObject.html#a5b06a5fdb473bb997c939ba55435c041">getName</a>(), <span class="stringliteral">&quot;&quot;</span>) == 0) {</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;        name = <a class="code" href="classCustomWiseRoute.html#a16755afa94e40a58c1dca193dcfc480a">bcName</a>;</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;        name = msg-&gt;<a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcNamedObject.html#a5b06a5fdb473bb997c939ba55435c041">getName</a>();</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    }</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    WiseRoutePkt* pkt = <span class="keyword">new</span> WiseRoutePkt(name, <a class="code" href="classCustomWiseRoute.html#a13fde26ee214454f81ca2a68fa4b6c9eacf8526d99509d081867ce6aff9a7a83b">DATA</a>);</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    pkt-&gt;setByteLength(headerLength);</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    pkt-&gt;setFinalDestAddr(finalDestAddr);</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    pkt-&gt;setInitialSrcAddr(initialSrcAddr);</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    pkt-&gt;setSrcAddr(myNetwAddr);</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    pkt-&gt;setDestAddr(nextHopAddr);</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    pkt-&gt;setNbHops(0);</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    pkt-&gt;setIsFlood(0);</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    nbPureUnicastSent++;</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    nextHopMacAddr = arp-&gt;getMacAddr(nextHopAddr);</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    setDownControlInfo(pkt, nextHopMacAddr);</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    assert(static_cast&lt;cPacket*&gt;(msg));</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    pkt-&gt;encapsulate(static_cast&lt;cPacket*&gt;(msg));</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    <a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcArray.html">cArray</a> *parlist = msg-&gt;<a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcMessage.html#a5902586e577cb30eed9fdd0acf184c15">getParList</a>().<a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcArray.html#aef65e15e1a8dd4a787e6d1a7ab02508a">dup</a>();</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    <span class="keywordtype">int</span> i = 0;</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    <span class="keywordflow">while</span> (parlist-&gt;<a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcArray.html#ad8780c71b4aabe1563d31a13095f10c5">exist</a>(i)) {</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;        pkt-&gt;getParList().<a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcArray.html#ac7d7369e49551ecdd74d8d1e528d106c">add</a>(parlist-&gt;<a class="codeRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcArray.html#ade73d719c14680d9299ca4d6c97624d8">get</a>(i));</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;        i++;</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    }</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    sendDown(pkt);</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    nbDataPacketsSent++;</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;}</div>
<div class="ttc" id="classCustomWiseRoute_html_a16755afa94e40a58c1dca193dcfc480a"><div class="ttname"><a href="classCustomWiseRoute.html#a16755afa94e40a58c1dca193dcfc480a">CustomWiseRoute::bcName</a></div><div class="ttdeci">const char * bcName</div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.h:60</div></div>
<div class="ttc" id="classCustomWiseRoute_html_a13fde26ee214454f81ca2a68fa4b6c9eacf8526d99509d081867ce6aff9a7a83b"><div class="ttname"><a href="classCustomWiseRoute.html#a13fde26ee214454f81ca2a68fa4b6c9eacf8526d99509d081867ce6aff9a7a83b">CustomWiseRoute::DATA</a></div><div class="ttdef"><b>Definition:</b> CustomWiseRoute.h:65</div></div>
<div class="ttc" id="classcArray_html_ac7d7369e49551ecdd74d8d1e528d106c"><div class="ttname"><a href="/home/rutho/BA/omnetpp-4.5//doc/api/classcArray.html#ac7d7369e49551ecdd74d8d1e528d106c">cArray::add</a></div><div class="ttdeci">int add(cObject *obj)</div></div>
<div class="ttc" id="classcArray_html_ad8780c71b4aabe1563d31a13095f10c5"><div class="ttname"><a href="/home/rutho/BA/omnetpp-4.5//doc/api/classcArray.html#ad8780c71b4aabe1563d31a13095f10c5">cArray::exist</a></div><div class="ttdeci">bool exist(int m) const </div></div>
<div class="ttc" id="classcNamedObject_html_a5b06a5fdb473bb997c939ba55435c041"><div class="ttname"><a href="/home/rutho/BA/omnetpp-4.5//doc/api/classcNamedObject.html#a5b06a5fdb473bb997c939ba55435c041">cNamedObject::getName</a></div><div class="ttdeci">virtual const char * getName() const </div></div>
<div class="ttc" id="classcMessage_html_a5902586e577cb30eed9fdd0acf184c15"><div class="ttname"><a href="/home/rutho/BA/omnetpp-4.5//doc/api/classcMessage.html#a5902586e577cb30eed9fdd0acf184c15">cMessage::getParList</a></div><div class="ttdeci">virtual cArray &amp; getParList()</div></div>
<div class="ttc" id="classcArray_html_ade73d719c14680d9299ca4d6c97624d8"><div class="ttname"><a href="/home/rutho/BA/omnetpp-4.5//doc/api/classcArray.html#ade73d719c14680d9299ca4d6c97624d8">cArray::get</a></div><div class="ttdeci">cObject * get(int m)</div></div>
<div class="ttc" id="classcArray_html_aef65e15e1a8dd4a787e6d1a7ab02508a"><div class="ttname"><a href="/home/rutho/BA/omnetpp-4.5//doc/api/classcArray.html#aef65e15e1a8dd4a787e6d1a7ab02508a">cArray::dup</a></div><div class="ttdeci">virtual cArray * dup() const </div></div>
<div class="ttc" id="group__Envir_html_ga650ef3eff8a2900bef69dae29c05d2dd"><div class="ttname"><a href="/home/rutho/BA/omnetpp-4.5//doc/api/group__Envir.html#ga650ef3eff8a2900bef69dae29c05d2dd">EV</a></div><div class="ttdeci">#define EV</div></div>
<div class="ttc" id="classcArray_html"><div class="ttname"><a href="/home/rutho/BA/omnetpp-4.5//doc/api/classcArray.html">cArray</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a3ef541aa2ff71276e9b7289c69f13b3b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CustomWiseRoute::active</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a16755afa94e40a58c1dca193dcfc480a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* CustomWiseRoute::bcName</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a7da0eb4ecf91658500ec9278e89fb721"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcMessage.html">cMessage</a>* CustomWiseRoute::forwardMessagesSelfMsg</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a8be8391b92ab64acb49673a8f4731105"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int CustomWiseRoute::ip</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a822bfbb18fd590b38bb84bb4bc7630cf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CustomWiseRoute::isLeaf</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ac53381468588a92c7f497da6de0683d0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CustomWiseRoute::isRoot</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a1154c9be8314a6a8f1ebcbb129ec7a1c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;int&gt; CustomWiseRoute::lastBroadcastId</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="abc613921af0ec8fe3b171c6d998c7d9c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/home/rutho/BA/omnetpp-4.5/doc/api/opptags.xml:/home/rutho/BA/omnetpp-4.5//doc/api/" href="/home/rutho/BA/omnetpp-4.5//doc/api/classcArray.html">cArray</a>* CustomWiseRoute::MessagesToBeForwarded</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a4f85685bcdc40862f18b29bc975cbdd7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int CustomWiseRoute::networkID</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aa75240b7547cf670e572338cbf27e915"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CustomWiseRoute::numHosts</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ad13963fde9a857d3cc5f7bdcf45af765"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int* CustomWiseRoute::routeTree</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a3ee45a1aee945cdde654ba2267e1cde4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structCustomWiseRoute_1_1AdjListElement.html">AdjListElement</a>* CustomWiseRoute::routeTreeAdjList</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a9f2ec093eefe340f7c3b07f8e9e2c84e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int CustomWiseRoute::sendingIntervall</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a219919907d77bedca95c2da1035a6b37"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool CustomWiseRoute::stats</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a49d1a46277bee51d0bb465759db703d8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool CustomWiseRoute::trace</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="CustomWiseRoute_8h.html">CustomWiseRoute.h</a></li>
<li><a class="el" href="CustomWiseRoute_8cc.html">CustomWiseRoute.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classCustomWiseRoute.html">CustomWiseRoute</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
